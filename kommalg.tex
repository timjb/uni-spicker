\documentclass{cheat-sheet}

\usepackage{stmaryrd} % \mapsfrom

\pdfinfo{
  /Title (Zusammenfassung Kommutative Algebra)
  /Author (Tim Baumann)
}

\usepackage{tikz}
\usetikzlibrary{matrix,arrows,cd}

% http://tex.stackexchange.com/questions/117732/tikz-and-babel-error
% Es ist schierer Wahnsinn, welche Hacks LaTeX benötigt!
\tikzset{
  every picture/.prefix style={
    execute at begin picture=\shorthandoff{"}
  }
}

\newenvironment{centertikz}
  {\begin{center}\begin{tikzpicture}}
  {\end{tikzpicture}\end{center}}
\newenvironment{centertikzcd}
  {\begin{center}\begin{tikzcd}}
  {\end{tikzcd}\end{center}}

\usepackage{pifont}
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}

\DeclareMathOperator{\ggT}{ggT} % größter gemeinsamer Teiler
\DeclareMathOperator{\kgV}{kgV} % kleinstes gemeinsames Vielfaches
\DeclareMathOperator{\ann}{ann} % Annulator
\DeclareMathOperator{\coker}{coker} % Kokern
\newcommand{\SC}{\mathfrak{C}} % Serre-Klasse
\newcommand{\PS}{\mathcal{P}} % Potenzmenge
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator{\ord}{ord} % Ordnung eines Elements
\newcommand{\clos}[1]{\overline{#1}} % Abschluss (closure)
\newcommand{\len}{\ell} % Länge eines Moduls

% Kategorientheorie
\newcommand{\Ring}{\mathbf{Ring}} % Kategorie der Ringe
\newcommand{\Mod}{\mathbf{Mod}} % Kategorie der Moduln über einem Ring
\newcommand{\TopMod}{\mathbf{TopMod}} % Kategorie der topologischen Moduln über einem topologischen Ring
\newcommand{\LMod}[1]{{#1}\text{-}\Mod} % Kategorie der (#1)-Linksmoduln
\newcommand{\Grp}{\mathbf{Grp}} % Kategorie der Gruppen
\newcommand{\TopGrp}{\mathbf{TopGrp}} % Kategorie der topologischen Gruppen
\newcommand{\ComplTopGrp}{\mathbf{TopGrp}_{\text{compl}}} % Kategorie der vollständigen topologischen Gruppen
\newcommand{\TopLMod}[1]{{#1}\text{-}\TopMod} % Kategorie der topologischen (#1)-Linksmoduln
\DeclareMathOperator{\Hom}{Hom} % Homomorphisms
\DeclareMathOperator{\End}{End} % Endomorphismen
\newcommand{\ladj}{\dashv} % Links-adjungiert (left-adjoint)
\newcommand{\Alg}{\mathbf{Alg}} % Kategorie der Algebren über einem Körper/Ring
\newcommand{\AAlg}[1]{{#1}\text{-}\Alg} % Kategorie der Algebren über einem Ring A
\newcommand{\op}{\mathrm{op}} % opposite category

% Bezeichnungen für Ideale
\newcommand{\aaa}{\mathfrak{a}}
\newcommand{\bbb}{\mathfrak{b}}
\newcommand{\ccc}{\mathfrak{c}}
\newcommand{\jjj}{\mathfrak{j}}
\newcommand{\ppp}{\mathfrak{p}}
\newcommand{\qqq}{\mathfrak{q}}
\newcommand{\rrr}{\mathfrak{r}}
\newcommand{\sss}{\mathfrak{s}}
\newcommand{\mmm}{\mathfrak{m}}
\newcommand{\nnn}{\mathfrak{n}}

\newcommand{\thra}{\twoheadrightarrow}

% Abkürzungen
\newcommand{\keS}{k.\,e.\,S.} % kurze exakte Sequenz

\begin{document}

\maketitle{Zusammenfassung Kommutative Algebra}

% I. Ringe und Ideale
\section{Ringe und Ideale}

% 1. Ringe und Ringhomomorphismen

% 1.1. Ringe

\begin{defn}
  Ein Ring ist ein Tupel $(A, +, \cdot, 0, 1)$ mit einer Menge~$A$, Operationen $+, \cdot : A \times A \to A$ und Elementen $0, 1 \in A$, sodass
  \begin{itemize}
    \item $(A, +, 0)$ eine abelsche Gruppe ist,
    \item $(A, \cdot, 1)$ ein Monoid ist und
    \item die Multiplikation distributiv über die Addition ist, \dh{}
    \[
      x (y + z) = x y + x z
      \enspace \text{und} \enspace
      (y + z) x = y x + z x
      \quad \forall \, x, y, z \in A.
    \]
  \end{itemize}
\end{defn}

\begin{bspe}
  \inlineitem{$\Z$,} \enspace
  \inlineitem{$K[x_1, \ldots, x_n]$,} \enspace
  \inlineitem{\emph{Nullring}: der Ring mit $0 = 1$}
\end{bspe}

% 1.2. Unterringe

\begin{defn}
  Sei $(A, +, \cdot)$ ein Ring.
  Eine Teilmenge $B \subseteq A$ heißt \emph{Unterring}, falls $0, 1 \in B$ und $B$ unter $+$ und $\cdot$ abgeschlossen ist.
\end{defn}

\begin{bspe}
  \inlineitem{$\Z \subset \Q$}, \enspace
  \inlineitem{$K \subset K[X]$}
\end{bspe}

% 1.3. Ringhomomorphismen

\begin{defn}
  Ein \emph{Ringhomomorphismus} $\phi : A \to B$ ist eine Abbildung, welche sowohl ein Gruppenhomomor. $(A, +_A, 0_A) \to (B, +_B, 0_B)$ als auch ein Ringhomomorphismus $(A, \cdot_A, 1_A) \to (B, \cdot_B, 1_B)$ ist.
\end{defn}

\begin{bem}
  Ringe und Ringhomomorphismen bilden eine Kategorie $\Ring$.
\end{bem}

\begin{lem}
  Ein Ringhomomorphismus ist genau dann ein Isomorphismus (in dieser Kategorie), wenn er bijektiv ist.
\end{lem}

\begin{konv}
  Seien $A$ im Folgenden Ringe und $\phi : A \to B$ ein Ringhomomorphismus.
\end{konv}

% 2. Ideale und Quotientenringe

% 2.1. Ideale

\begin{defn}
  Eine Teilmenge $\aaa \subseteq A$ heißt (beidseitiges) \emph{Ideal} von $A$, falls
  \begin{itemize}
    \item $\aaa \subseteq A$ eine Untergruppe ist und
    \item für alle $a \in A$ und $x \in \aaa$ gilt: $ax, xa \in \aaa$.
  \end{itemize}
\end{defn}

\begin{lem}
  Der Schnitt von (beliebig vielen) Idealen ist selbst ein Ideal.
\end{lem}

\begin{defn}
  Sei $M \subseteq A$ eine Teilmenge.
  Das von $M$ \emph{erzeugte Ideal} ist der Schnitt aller Ideale von~$A$, die $M$ umfassen.
\end{defn}

\begin{bem}
  Falls $A$ kommutativ ist, so gilt
  \[
    \text{von $M$ erzeugtes Ideal} = \Set{\sum_{k=1}^n \lambda_k x_k}{n \in \N, \lambda_k \in A, x_k \in M}.
  \]
\end{bem}

\begin{nota}
  $(x_1, \ldots, x_n) \subseteq A$ ist das von $\{ x_1, \ldots, x_n \}$ erzeugte Ideal.
\end{nota}

\begin{bem}
  \begin{minipage}[t]{0.85 \linewidth}
    \begin{itemize}
      \item Das \emph{Nullideal} $(0)$ ist das kleinste Ideal, denn $(0) = \{ 0 \}$.
      \item Das \emph{Einsideal} $(1)$ ist das größte Ideal, denn $(1) = A$.
    \end{itemize}
  \end{minipage}
\end{bem}

% 2.2. Bild und Kern

\begin{prop}
  \begin{itemize}
    \item Sei $\bbb \subseteq B$ ein Ideal.
    Dann ist auch $\phi^{-1}(\bbb) \subseteq A$ ein Ideal.
    \item Sei $A' \subseteq A$ ein Unterring.
    Dann ist auch $\phi(A') \subseteq B$ ein Unterring.
  \end{itemize}
\end{prop}

\begin{defn}
  Das Ideal $\ker \phi \coloneqq \phi^{-1}((0))$ heißt \emph{Kern} von $\phi$.
\end{defn}

\begin{bem}
  $\phi$ ist injektiv $\iff$ $\ker \phi = 0$
\end{bem}

% selbst hinzugefügt
\begin{prop}
  Sei $\phi : A \to B$ surjektiv, $\aaa \subseteq A$ ein Ideal.
  Dann ist auch das Bild $\phi(A) \subseteq B$ ein Ideal.
\end{prop}

% 2.3. Quotientenringe

\begin{prop}
  Sei $\aaa \subseteq A$ ein Ideal.
  Dann gibt es einen Ring $A/\aaa$ und einen Ringhomomor. $\pi : A \to A/\aaa$ mit folgender universeller Eigenschaft:

  \hfill\begin{minipage}{0.95 \linewidth}
    Für jeden Ring $B$ und Ringhomomor. $\psi : A \to B$ mit $\aaa \subseteq \ker \psi$ gibt es genau einen Ringhomomor. $\widetilde{\psi} : A/\aaa \to B$ mit $\psi = \widetilde{\psi} \circ \pi$.
  \end{minipage}
\end{prop}

\begin{konstr}
  Sei durch $x \sim y \coloniff x - y \in \aaa$ eine Äq'relation $\sim$ auf~$A$ definiert.
  Setze $A/\aaa \coloneqq A/{\sim}$ und $\pi(x) \coloneqq [x]$.
  Die Addition und Multiplikation auf~$A$ ind. die Addition bzw. Multiplikation auf $A/\aaa$.
\end{konstr}

\begin{defn}
  $A/\aaa$ heißt \emph{Quotientenring} von $A$ nach $\aaa$.
\end{defn}

\begin{nota}
  Man lässt häufig die Äquivalenzklammern weg, man schreibt also
  "`$x = y$ in $A/\aaa$"' anstatt "`$[x] = [y]$"'.
\end{nota}

\begin{prop}
  Sei $\aaa \subseteq A$ ein Ideal.
  Folgende Korresp. ist bij. und monoton:
  \[
    \begin{array}{r c l}
      \{ \text{ Ideale $\bbb \subseteq A$ mit $\bbb \supseteq \aaa$ } \} & \leftrightarrow & \{ \text{ Ideale $\ccc \subseteq A/\aaa$ } \} \\
      \bbb & \mapsto & \pi(\bbb) \\
      \pi^{-1}(\ccc) & \mapsfrom & \ccc
    \end{array}
  \]
\end{prop}

\begin{prop}[\emph{Homomorphiesatz}]
  Sei $\phi : A \to B$ ein Ringhomomor.
  Dann ist $\underline{\phi} : A / \ker(\phi) \to \im(\phi), \enspace [x] \mapsto \phi(x)$ ein Ringisomorphismus.
\end{prop}

% 3. Nullteiler, nilpotente Elemente und Einheiten

% 3.1. Integritätsbereiche

Im Folgenden seien alle Ringe \emph{kommutativ}, \dh{} $xy = yx$ f.\,a. $x, y$.

\begin{defn}
  Sei $A$ ein kommutativer Ring.
  Ein Element $x \in A$ heißt
  \begin{itemize}
    \item \emph{regulär}, falls $\fa{y \in A} xy = 0 \implies y = 0$.
    \item \emph{Nullteiler}, falls es nicht regulär ist, \dh{} wenn ein $y \in A \setminus \{ 0 \}$ mit $xy = 0$ existiert.
  \end{itemize}
\end{defn}

\begin{defn}
  Ein Ring $A$ heißt \emph{Integritätsbereich}, wenn $0 \in A$ der einzige Nullteiler in $A$ ist.
\end{defn}

\begin{acht}
  Die Null im Nullring ist regulär!
\end{acht}

\begin{bem}
  Ein Ring $A$ ist genau dann ein Integritätsbereich, wenn
  \[
    0 \neq 1 \text{ in $A$}
    \qquad \text{und} \qquad
    \fa{x, y \in } xy = 0 \implies x = 0 \vee y = 0.
  \]
\end{bem}

% weglassen?
\begin{beob}
  Sei $\phi : A \to B$ ein injektiver Ringhomomorphismus.
  Ist $B$ ein Integritätsbereich, so auch $A$.
\end{beob}

\begin{defn}
  Ein Ideal $\aaa \subseteq A$ heißt \emph{Hauptideal}, falls $\aaa = (a)$ für ein $a \in A$. \\
  Ein Ring~$A$ heißt \emph{Hauptidealbereich}, falls jedes Ideal in $A$ ein Hauptideal ist.
\end{defn}

\begin{bspe}
  \inlineitem{$\Z$,} \enspace
  \inlineitem{$K[x]$}
\end{bspe}

\begin{gegenbsp}
  \inlineitem{$K[x_1, \ldots, x_n]$ für $n \geq 2$}
\end{gegenbsp}

% 3.2. Nilpotente Elemente

\begin{defn}
  Ein Element $x \in A$ heißt \emph{nilpotent}, falls $\ex{n \geq 0} x^n = 0$.
\end{defn}

% weglassen?
\begin{beob}
  Ist $A$ ein Integritätsbereich, so ist $0 \in A$ das einzige nilpotente Element in $A$.
\end{beob}

% 3.3. Einheiten

\begin{defn}
  Sei $A$ ein Ring, nicht notwendigerweise kommutativ. \\
  Ein Element $x \in A$ heißt \emph{Einheit}, falls ein $y \in A$ mit $xy = yx = 1$ existiert.
  $A^\times \coloneqq \{ \text{ Einheiten in $A$ } \}$ heißt \emph{Einheitengruppe}. \\
  Der Ring $A$ heißt \emph{Schiefkörper}, falls $0$ die einzige Nicht-Einheit ist. \\
  Falls zusätzlich $A$ kommutativ ist, so heißt $A$ ein \emph{Körper}.
\end{defn}

\begin{beob}
  \begin{itemize}
    \item $x \in A$ ist eine Einheit $\iff$ $(x) = (1)$ $\iff$ $A/(x) = 0$
    \item Einheiten sind regulär.
  \end{itemize}
\end{beob}

% 3.4. Charakterisierung von Körpern

\begin{prop}
  Sei $A$ ein kommutativer Ring.
  Dann sind äquivalent:
  \begin{itemize}
    \item $A$ ist ein Körper.
    \item $A$ besitzt genau zwei Ideale (nämlich $(0)$ und $(1)$).
    \item Ein Ringhomomorphismus $A \to B$ ist genau dann injektiv, wenn~$B$ nicht der Nullring ist.
  \end{itemize}
\end{prop}

% 4. Primideale und maximale Ideale

\begin{defn}
  \begin{itemize}
    \item Ein Ideal $\ppp \subset A$ heißt \emph{Primideal}, falls $1 \not\in \ppp$ und $\fa{a, b \in A} ab \in \ppp \implies a \in \ppp \vee b \in \ppp$.
    \item Ein Ideal $\mmm \subset A$ heißt \emph{maximal}, falls für jedes Ideal $\ppp \subseteq \aaa \subseteq A$ \textit{entweder} $\ppp = \aaa$ oder $\aaa = A$ (nicht beides!) gilt.
  \end{itemize}
\end{defn}

\begin{bspe}
  \begin{itemize}
    \item Jedes Ideal in $\Z$ hat die Form $(m)$ mit $m \in \N$.
    Das Ideal $(m)$ ist genau dann prim, wenn $m=0$ oder $m$ eine Primzahl ist.
    \item Sei $f \in K[x_1, \ldots, x_n]$ ein irred. Polynom.
    Dann ist $(f)$ prim.
\end{itemize}
\end{bspe}

\begin{lem}
  \begin{minipage}[t]{0.85 \linewidth}
    $
      \begin{array}[t]{l c l}
        \text{$\ppp \subseteq A$ ist prim} & \iff & \text{$A/\ppp$ ist ein Integritätsbereich} \\
        \text{$\mmm \subseteq A$ ist maximal} & \iff & \text{$A/\mmm$ ist ein Körper} \\
      \end{array}
    $
  \end{minipage}
\end{lem}

\begin{kor}
  Maximale Ideale sind prim.
\end{kor}

\begin{prop}
  Sei $\aaa \subseteq A$ ein Ideal.
  Folgende Korresp. ist bij. und monoton:
  \[
    \begin{array}{r c l}
      \{ \text{ Primideale $\ppp \subset A$ mit $\ppp \supseteq \aaa$ } \} & \leftrightarrow & \{ \text{ Primideale $\qqq \subset A/\aaa$ } \} \\
      \ppp & \mapsto & \pi(\ppp) \\
      \pi^{-1}(\qqq) & \mapsfrom & \qqq
    \end{array}
  \]
  Genauso bekommt man eine bijektive, monotone Korrespondenz
  \[
    \begin{array}{r c l}
      \{ \text{ max. Ideale $\mmm \subset A$ mit $\mmm \supseteq \aaa$ } \} & \leftrightarrow & \{ \text{ max. Ideale $\nnn \subset A/\aaa$ } \}
    \end{array}
  \]
\end{prop}

% 4.2. Maximale Ideale

\begin{prop}
  Ein Ring besitzt genau dann ein maximales Ideal, wenn er nicht der Nullring ist.
\end{prop}

\begin{kor}
  \begin{itemize}
    \item Sei $\aaa \subseteq A$ ein Ideal.
    Dann gibt es genau dann ein maximales Ideal $\ppp \subset A$ mit $\ppp \supseteq \aaa$, wenn $\aaa \neq (1)$.
    \item Ein Element $x \in A$ liegt genau dann in einem maximalen Ideal von~$A$, wenn~$x$ keine Einheit ist.
  \end{itemize}
\end{kor}

% 4.3. Lokale Ringe

\begin{defn}
  Ein \emph{lokaler Ring} ist ein komm. Ring~$A$ mit genau einem max. Ideal $\mmm$.
  Der Körper $F \coloneqq A/\mmm$ heißt \emph{Restklassenkörper} von~$A$.
\end{defn}

\begin{nota}
  Man schreibt "`Sei $(A, \mmm, F)$ ein lokaler Ring."'
\end{nota}

\begin{defn}
  Ein \emph{halblokaler Ring} ist ein kommutativer Ring mit nur endlich vielen maximalen Idealen.
\end{defn}

\begin{lem}
  Sei $\mmm \subset A$ ein Ideal mit $A \setminus \mmm = A^\times$.
  Dann ist $(A, \mmm)$ ein lokaler Ring.
\end{lem}

\begin{prop}
  Sei $\mmm \subset A$ ein maximales Ideal, sodass $1 + x$ für alle $x \in \mmm$ eine Einheit ist.
  Dann ist $A \setminus \mmm = A^\times$, also $(A, \mmm)$ ein lokaler Ring.
\end{prop}

% 5. Das Nil- und das Jacobsonsche Ideal

% 5.1. Das Nilradikal

\begin{prop}
  Die Menge $\nnn \coloneqq \{ \text{ nilpotente Elemente } \} \subseteq A$ ist ein Ideal, das sogenannte \emph{Nilradikal}.
\end{prop}

\begin{bem}
  Der Ring $A/\nnn$ hat außer $0$ keine nilpotenten Elemente.
\end{bem}

\begin{prop}
  Das Nilradikal eines kommutativen Ringes ist der Schnitt aller seiner Primideale.
\end{prop}

% 5.2. Das Jacobsonsche Ideal

\begin{defn}
  Das \emph{Jacobsonsche Ideal} $\jjj \subset A$ ist der Schnitt aller maximalen Ideale von $A$.
\end{defn}

\begin{prop}
  Ein Element $x \!\in\! A$ liegt genau dann im Jacobsonschen Ideal~$\jjj$, wenn $1 - xy$ für alle $y \in A$ eine Einheit ist.
\end{prop}

% 6. Operationen mit Idealen

% 6.1. Summe, Schnitt und Produkt von Idealen

\begin{defn}
  Die \emph{Summe von Idealen} $(\aaa_i)_{i \in I}$ von~$A$ ist das Ideal
  \[
    \sum_{i \in I} \aaa_i \coloneqq \Set{\sum_{k=1}^n x_k}{k \in \N, x_k \in \aaa_{i_k}, i_k \in I}.
  \]
\end{defn}

\begin{bem}
  $\sum_{i \in I} \aaa_i$ ist das kleinste Ideal, das alle $\aaa_i$ umfasst.
\end{bem}

\begin{beob}
  $(x_1) + \ldots + (x_n) = (x_1, \ldots, x_n)$
\end{beob}

\begin{bem}
  Ideale eines Ringes $A$ bilden mit Schnitt und Summe einen vollständigen Verband bezüglich der Inklusionsordnung.
\end{bem}

\begin{defn}
  Das \emph{Produkt zweier Ideale} $\aaa, \bbb \subseteq A$ ist
  \[
    \aaa \bbb \coloneqq \text{von $\Set{ab}{a \in \aaa, b \in \bbb}$ erzeugtes Ideal.}
  \]
\end{defn}

\begin{beob}
  \inlineitem{$\aaa \bbb \subseteq \aaa \cap \bbb$,} \quad
  \inlineitem{$(x_1) \cdot \ldots \cdot (x_n) = (x_1 \cdot \ldots \cdot x_n)$}
\end{beob}

\begin{bsp}
  In $A = \Z$ gilt für $m, n \in \N$ \\
  \inlineitem{$(m) + (n) = (m, n) = (\ggT(m, n))$,} \quad
  \inlineitem{$(m) \cap (n) = (\kgV(m, n))$.}
\end{bsp}

\begin{beob}
  \begin{itemize}
    \item Summe, Schnitt und Produkt von Idealen sind assoziativ.
    \item Summe und Schnitt sind kommutativ. Das Produkt von Idealen ist kommutativ, wenn der Ring kommutativ ist.
    \item Distributivgesetz: \enspace $\aaa (\bbb + \ccc) = \aaa \bbb + \aaa \ccc$
    \item Modularitätsgesetz: \enspace Ist $\aaa \supseteq \bbb$ oder $\aaa \supseteq \ccc$, so folgt
    \[
      \aaa \cap (\bbb + \ccc) = (\aaa \cap \bbb) + (\aaa \cap \ccc).
    \]
  \end{itemize}
\end{beob}

\begin{defn}
  Zwei Ideale $\aaa, \bbb \subseteq A$ heißen \emph{koprim}, falls $\aaa + \bbb = (1)$.
\end{defn}

\begin{bsp}
  In $A = \Z$ gilt: \enspace
  $(m)$, $(n)$ sind koprim $\iff$ $\ggT(m, n) = 1$
\end{bsp}

\begin{prop}
  Seien $\aaa_1, \ldots \aaa_n \subseteq A$ paarweise koprime Ideale.
  Dann gilt
  \[
    \bigcap_{i=1}^n \aaa_i = \prod_{i=1}^n \aaa_i.
  \]
\end{prop}

% 6.2. Direkte Produkte

\begin{defn}
  Das \emph{direkte Produkt} einer Familie $(A_i)_{i \in I}$ von Ringen ist der Ring $\prod_{i \in I} A_i \coloneqq \{ (a_i \in A_i)_{i \in I} \}$ mit kmpnntnwsr Verknüpfung.
\end{defn}

\begin{bem}
  Das direkte Produkt ist das kategorienth. Produkt in $\Ring$.
\end{bem}

\begin{prop}
  Seien $\aaa_1, \ldots \aaa_n \subseteq A$ Ideale.
  Dann ist
  \[
    \phi : A \to \prod_{i=1}^n (A/\aaa_i), \quad x \mapsto ([x], \ldots, [x])
  \]
  genau dann surjektiv, wenn die Ideale $\aaa_i$ paarweise koprim sind.
\end{prop}

\begin{bem}
  %Es gilt $\ker \phi = \bigcap_{i=1}^n \aaa_i$.
  Der Ringhomomor. $\phi$ ist genau dann injektiv, wenn $\bigcap_{i=1}^n \aaa_i = 0$.
\end{bem}

% 6.3. Ideale in Primidealen

\begin{prop}
  Seien $\ppp_1, \ldots, \ppp_n \subset A$ Primideale und $\aaa \subseteq A$ ein Ideal. \\
  Gilt $\aaa \subseteq \bigcup_{i=1}^n \ppp_i$, so gibt es ein $j \in \{ 1, \ldots, n \}$ mit $\aaa \subseteq \ppp_j$.
\end{prop}

\begin{prop}
  Seien $\aaa_1, \ldots, \aaa_n \subseteq A$ Ideale und $\ppp \subset A$ ein Primideal. \\
  Gilt $\ppp \supseteq \bigcap_{i=1}^n \aaa_i$, so gibt es ein $j \in \{ 1, \ldots, n \}$ mit $\ppp \supseteq \aaa_j$.
\end{prop}

% 6.4. Der Idealquotient

\begin{defn}
  Seien $\aaa, \bbb \subseteq A$ zwei Ideale.
  Der \emph{Idealquotient} von $\aaa$ nach $\bbb$ ist das Ideal $(\aaa : \bbb) \coloneqq \Set{x \in A}{x \bbb \subseteq \aaa}$.
\end{defn}

\begin{nota}
  \inlineitem{$(x : \bbb) \coloneqq ((x) : \bbb)$,} \quad
  \inlineitem{$(\aaa : y) \coloneqq (\aaa : (y))$}
\end{nota}

\begin{defn}
  Der \emph{Annulator} eines Ideals $\bbb \subseteq A$ ist
  $\ann(\bbb) \coloneqq (0 : \bbb)$.
\end{defn}

\begin{lem}
  \inlineitem{$\aaa \subseteq (\aaa : \bbb)$} \quad
  \inlineitem{$(\aaa : \bbb) \bbb \subseteq \aaa$} \quad
  \inlineitem{$((\aaa : \bbb) : \ccc) = (\aaa : \bbb \ccc)$} \\[2pt]
  \inlineitem{$(\bigcap_{i \in I} \aaa_i : \bbb) = \bigcap_{i \in I} (\aaa_i : \bbb)$} \quad
  \inlineitem{$(\aaa : \sum_{i \in I} \bbb) = \bigcap_{i \in I} (\aaa : \bbb_i)$}
\end{lem}

% 6.5. Das Wurzelideal

\begin{defn}
  Das \emph{Wurzelideal} eines Ideals $\aaa \subseteq A$ ist das Ideal
  \[
    \sqrt{\aaa} \coloneqq \Set{x \in A}{\ex{n \in \N} x^n \in \aaa}.
  \]
\end{defn}

\begin{bem}
  Das Nilradikal ist $\sqrt{(0)}$, das Wurzelideal des Nullideals. \\
  Es gilt $\sqrt{\aaa} = \pi^{-1}(\sqrt{(0)})$ mit $\pi : A \to A/\aaa, \enspace x \mapsto [x]$.
\end{bem}

\begin{lem}
  \inlineitem{$\sqrt{\aaa} \supseteq \aaa$} \enspace
  \inlineitem{$\sqrt{\aaa^n} = \sqrt{\aaa}$ für $n \!\geq\! 1$} \enspace
  \inlineitem{$\sqrt{\aaa} = (1) \iff \aaa = (1)$} \\[2pt]
  \inlineitem{$\sqrt{\sqrt{\aaa}} = \sqrt{\aaa}$} \enspace
  \inlineitem{$\sqrt{\aaa \bbb} = \sqrt{\aaa \cap \bbb} = \sqrt{\aaa} \cap \sqrt{\bbb}$} \enspace
  \inlineitem{$\sqrt{\aaa + \bbb} = \sqrt{\sqrt{\aaa} + \sqrt{\bbb}}$}
\end{lem}

\begin{defn}
  Ein Ideal $\aaa \subseteq A$ heißt \emph{Wurzelideal}, falls $\aaa = \sqrt{\aaa}$.
\end{defn}

\begin{prop}
  Das Wurzelideal von $\sqrt{\aaa}$ ist der Schnitt aller Primideale von~$A$, die $\aaa$ enthalten.
\end{prop}

\begin{prop}
  $\{ \text{ Nullteiler von $A$ } \} = \bigcup_{\mathclap{x \in A \setminus \{ 0 \}}} \sqrt{\ann(x)}$
\end{prop}

\begin{lem}
  $\sqrt{\aaa}$ und $\sqrt{\bbb}$ koprim $\implies$ $\aaa$ und $\bbb$ koprim
\end{lem}

% 7. Erweiterungen und Kontraktionen von Idealen

% 7.1. Kontraktionen

\begin{defn}
  Sei $\phi : A \to B$ ein Homomorphismus komm. Ringe. \\
  Die \emph{Kontraktion} von $\bbb \subseteq B$ (bzgl. $\phi$) ist das Ideal $A \cap \bbb \coloneqq \phi^{-1}(\bbb)$.
\end{defn}

\begin{bem}
  Es wird also $\phi$ in der Notation unterdrückt.
  Falls $\phi$ die Inklusion eines Unterrings ist, so ist $A \cap \bbb$ wörtlich zu verstehen.
\end{bem}

\begin{beob}
  $A \cap \bbb = \ker(A \to B \to B/\bbb)$
\end{beob}

\begin{lem}
  Ist $\qqq \subset B$ ein Primideal, so auch $A \cap \qqq \subset A$.
\end{lem}

\begin{acht}
  %Für $\phi : \Z \hookrightarrow \Q$ und $\mmm = (0) \subset \Q$ gilt: $\mmm$ ist maximal, $\Z \cap \mmm$ aber nicht.
  Die Kontraktion max. Ideale ist i.\,A. nicht maximal!
\end{acht}

% TODO: Distributiv- und Modularitätsgesetz für unendliche Summen?
% TODO: was ist ein faktorieller Ring?
% TODO: Umkehrung von Proposition 4.19 im Skript

% 7.2. Erweiterungen

\begin{defn}
  Sei $\phi : A \to B$ ein Homomorphismus komm. Ringe. \\
  Die \emph{Erweiterung} von $\aaa \subseteq A$ (bzgl. $\phi$) ist das Ideal $B \aaa \coloneqq (\phi(\aaa))$, das von $\phi(\aaa)$ erzeugte Ideal.
\end{defn}

\begin{bem}
  Ist $\phi$ die Inklusion eines Unterrings, so ist $B \aaa$ tatsächlich die Menge der $B$-Linearkombinationen von Elementen in~$\aaa$.
\end{bem}

\begin{bem}
  Die Erweiterung eines Primideals ist i.\,A. nicht mehr prim.
\end{bem}

% 7.3. Operationen mit Erweiterungen und Kontraktionen

\begin{prop}
  Sei $\phi : A \to B$ ein Homomorphismus komm. Ringe. \\
  Die Erweiterung und Kontraktion von Idealen (bzgl. $\phi$) bilden eine Galois-Verbindung, \dh{} für Ideale $\aaa \subseteq A$ und $\bbb \subseteq B$ gilt
  \[
    B \aaa \subseteq \bbb \iff \aaa \subseteq A \cap \bbb.
  \]
  Äquivalent dazu sind Erw. und Kontraktion monoton und es gelten
  \[
    \aaa \subseteq A \cap (B \aaa)
    \quad \text{und} \quad
    \bbb \supseteq B (A \cap \bbb).
  \]
  Außerdem folgt aus den Eigenschaften einer Galois-Verbindung, dass
  \[
    B \aaa = B (A \cap (B \aaa))
    \quad \text{und} \quad
    A \cap \bbb = A \cap (B (A \cap \bbb)).
  \]
  Damit induzieren Erweiterung und Kontraktion eine bijektive ordnungserhaltende Korrespondenz zwischen den kontrahierten Idealen von~$A$ und den erweiterten Idealen von~$B$.
\end{prop}

\begin{lem}
  Für Ideale $\aaa, \aaa_1, \aaa_2 \subseteq A$ und $\bbb, \bbb_1, \bbb_2 \subseteq B$ gilt
  \begin{itemize}
    \miniitem{0.45 \linewidth}{$B \sqrt{\aaa} \subseteq \sqrt{B \aaa}$}
    \miniitem{0.51 \linewidth}{$A \cap \sqrt{\bbb} = \sqrt{A \cap \bbb}$} \\
    \miniitem{0.45 \linewidth}{$B (\aaa_1 + \aaa_2) = B \aaa_1 + B \aaa_2$}
    \miniitem{0.51 \linewidth}{$A \cap (\bbb_1 + \bbb_2) \supseteq A \cap \bbb_1 + A \cap \bbb_2$} \\
    \miniitem{0.45 \linewidth}{$B (\aaa_1 \cap \aaa_2) \subseteq B \aaa_1 \cap B \aaa_2$}
    \miniitem{0.51 \linewidth}{$A \cap (\bbb_1 \cap \bbb_2) = (A \cap \bbb_1) \cap (A \cap \bbb_2)$} \\
    \miniitem{0.45 \linewidth}{$B (\aaa_1 \aaa_2) = (B \aaa_1) (B \aaa_2)$}
    \miniitem{0.51 \linewidth}{$A \cap (\bbb_1 \bbb_2) \supseteq (A \cap \bbb_1) (A \cap \bbb_2)$} \\
    \miniitem{0.45 \linewidth}{$B (\aaa_1 : \aaa_2) \subseteq (B \aaa_1 : B \aaa_2)$}
    \miniitem{0.51 \linewidth}{$A \cap (\bbb_1 : \bbb_2) \subseteq (A \cap \bbb_1 : A \cap \bbb_2)$}
  \end{itemize}
\end{lem}

% II. Moduln
\section{Moduln}

% 8. Moduln und Modulhomomorphismen

\begin{defn}
  Sei $A$ ein Ring.
  Ein \emph{$A$-(Links-)Modul} ist eine abelsche Gruppe $(M, +, 0)$ zusammen mit einer Abb. $\cdot : A \times M \to M$, sodass
  \begin{itemize}
    \item die Multiplikation eine Operation von $(A, \cdot, 1)$ auf $M$ ist, \dh{} $(ab) x = a (bx)$ und $1 \cdot x = x$ für alle $a, b \in A$ und $x \in M$.
    \item die Multiplikation distributiv über die Addition ist, \dh{} $a (x + y) = a x + a y$ und $(a + b) x = a x + b x$ f.\,a. $a, b \in A$, $x, y \in M$.
  \end{itemize}
\end{defn}

\begin{acht}
  Es heißt \textit{der} Modul, nicht \textit{das} Modul!
\end{acht}

\begin{bspe}
  \begin{itemize}
    \item Der Ring $A$ ist selbst ein $A$-Modul.
    \item Jedes Ideal $\aaa \subseteq A$ ist (durch Einschränkung der Multiplikation) ein $A$-Modul.
    \item Ein $K$-Modul ($K$ ein Körper) ist dasselbe wie ein $K$-VR.
    \item Ein $\Z$-Modul ist dasselbe wie eine abelsche Gruppe.
    \item Ein $K[x]$-Modul ist dasselbe wie ein $K$-Vektorraum $V$ zusammen mit einem Endomorphismus $V \to V$.
    \item Sei $G$ eine endliche Gruppe und
    \[
      A \coloneqq K[G] \coloneqq \Set{\sum_{g \in G} a_g \cdot g}{g \in G, a_g \in K}
    \]
    die \emph{Gruppenalgebra} von $G$ über $K$.
    Ein $A$-Modul ist dasselbe wie ein $K$-VR $V$ mit einer linearen Darstellung $G \to \End_K(V)$.
  \end{itemize}
\end{bspe}

\begin{defn}
  Ein $A$-Modulhomomorphismus ist eine Abbildung $\phi : M \to N$ zwischen $A$-Moduln $M$ und $N$, welche ein Gruppenhomomorphismus $(M, +_M, 0_M) \to (N, +_N, 0_N)$ und verträglich mit der Wirkung des multiplikativen Monoids von $M$ und $N$ ist, \dh{} $\phi(ax) = a \phi(x)$ für alle $a \in A$ und $x \in M$.
\end{defn}

\begin{bem}
  $A$-Moduln und $A$-Modulhomomor. bilden eine Kat. $\LMod{A}$.
  %Diese ist kartesisch abgeschlossen, \dh{} für $A$-Moduln $M$ und $N$ ist $\Hom_A(M, N)$ auch ein Objekt von $\LMod{A}$.
\end{bem}

\begin{lem}
  Ein $A$-Modulhomomorphismus ist genau dann ein Isomorphismus (in dieser Kategorie), wenn er bijektiv ist.
\end{lem}

% 9. Untermoduln und Quotientenmoduln

% 9.1. Untermoduln und Quotientenmoduln, Kerne und Kokerne

\begin{defn}
  Sei $M$ ein $A$-Modul.
  Eine Teilmenge $M' \subseteq M$ heißt \emph{Untermodul} von $M$, falls
  \begin{itemize}
    \item $M'$ eine Untergruppe von $(M, +, 0)$ ist und
    \item $M'$ abgeschlossen unter Multiplikation mit Elementen aus~$A$ ist, \dh{} $a x \in M'$ für alle $a \in A$ und $x \in M'$.
  \end{itemize}
\end{defn}

\begin{bsp}
  Sei $A$ kommutativ.
  Eine Teilmenge $\aaa \subseteq A$ ist genau dann ein Ideal von~$A$, wenn $\aaa$ ein Untermodul von $A$ ist.
\end{bsp}

\begin{defn}
  Sei $\phi : M \to N$ eine $A$-Modulhomomorphismus. \\
  Der \emph{Kern} v. $\phi$ ist der Untermodul $\ker \phi \coloneqq \Set{x \in M}{\phi(x) = 0} \subseteq M$. \\
  Das \emph{Bild} von $\phi$ ist der Untermodul $\im \phi \coloneqq \phi(M) \subseteq N$.
\end{defn}

\begin{prop}
  Sei $M$ ein $A$-Modul und $M' \subseteq M$ ein Untermodul.
  Dann gibt es ein $A$-Modul $M/M'$ und einen Ringhomomor. $\pi : M \to M/M'$ mit folgender universeller Eigenschaft:

  \hfill\begin{minipage}{0.95 \linewidth}
    Für jeden $A$-Modul $N$ und $A$-Modulhomomor. $\psi : M \to N$ mit $M' \subseteq \ker \psi$ gibt es genau einen $A$-Modulhomomor. $\widetilde{\psi} : M/M' \to N$ mit $\psi = \widetilde{\psi} \circ \pi$.
  \end{minipage}
\end{prop}

\begin{konstr}
  $M/M' \coloneqq M/{\sim}$ \enspace mit \enspace $x \sim y \coloniff x - y \in M'$
\end{konstr}

\begin{defn}
  Der Modul $M/M'$ heißt \emph{Quotientenmodul} von $M$ nach $M'$.
\end{defn}

\begin{prop}
  Sei $M$ ein $A$-Modul und $M' \subseteq M$ ein Untermodul. \\
  Folgende Korrespondenz ist bijektiv und monoton:
  \[
    \begin{array}{r c l}
      \{ \text{ Untermoduln $M' \subseteq N \subseteq M$ } \} & \leftrightarrow & \{ \text{ Untermoduln $\overline{N} \subseteq M/M'$ } \} \\
      N & \mapsto & \pi(N) \\
      \pi^{-1}(\overline{N}) & \mapsfrom & \overline{N}
    \end{array}
  \]
\end{prop}

\begin{defn}
  Der \emph{Kokern} eines $A$-Modulhomomorphismus $\phi : M \to N$ ist
  \[
    \coker \phi \coloneqq N/\im(\phi).
  \]
\end{defn}

% XXX: universelle Eigenschaft von Kern, Kokern?

\begin{bem}
  \inlineitem{$\phi$ injektiv $\iff$ $\ker \phi = 0$} \quad
  \inlineitem{$\phi$ surjektiv $\iff$ $\coker \phi = 0$}
\end{bem}

\begin{prop}[\emph{Homomorphiesatz}]
  Sei $\phi : M \to N$ ein $A$-Modulhomom.
  Dann ist $\underline{\phi} : M / \ker(\phi) \to \im(\phi), \enspace [x] \mapsto \phi(x)$ ein $A$-Modulisomor.
\end{prop}

% 10. Operationen auf Untermoduln

\begin{defn}
  Sei $M$ ein $A$-Modul.
  Die \emph{Summe} einer Familie $(M_i)_{i \in I}$ von Untermoduln von $M$ ist
  \[
    \sum_{i \in I} M_i \coloneqq \Set{\sum_{i \in I} x_i}{x_i \in M_i}
  \]
  (Dabei ist $\sum_{i \in I} x_i$ endlich, \dh{} $x_i = 0$ für alle bis auf endl. viele $i \in I$.)
\end{defn}

\begin{prop}
  Sei $(M_i)_{i \in I}$ eine Familie von Untermoduln von $M$.
  Dann ist auch der Schnitt $\bigcap_{i \in I} M_i$ ein Untermodul von~$M$.
\end{prop}

\begin{bem}
  Untermoduln eines Moduls $M$ bilden mit Schnitt und Summe einen vollständigen Verband bezüglich der Inklusionsordnung.
\end{bem}

% 10.2. Die Isomorphiesätze

\begin{prop}[\emph{Isomorphiesätze}]
  Sei $A$ ein Ring.
  \begin{enumerate}
    \item Sei $M$ ein $A$-Modul und $M_1, M_2 \subseteq M$ zwei Untermoduln. \\
    Dann existiert ein kanonischer $A$-Modulisomorphismus
    \[
      (M_1 + M_2)/M_1 \cong M_2 / (M_1 \cap M_2).
    \]
    \item Sei $L$ ein $A$-Modul und $N \subseteq M \subseteq L$ Untermoduln.
    Dann existiert ein kanonischer $A$-Modulisomorphismus
    \[
      (L/N) / (M/N) \cong L/M.
    \]
  \end{enumerate}
\end{prop}

% 10.3. Operationen mit Moduln

\begin{defn}
  Sei $A$ kommutativ, $M$ ein $A$-Modul und $\aaa \subset A$ ein Ideal. \\
  Das \emph{Produkt} von $\aaa$ und $M$ ist $\aaa M \coloneqq \Set{a x}{a \in \aaa, x \in M}$.
\end{defn}

\begin{nota}
  $a M \coloneqq (a) M = \Set{a x}{x \in M}$ für $a \in A$
\end{nota}

\begin{defn}
  Sei $A$ komm. und $N$, $P$ Untermoduln eines $A$-Moduls $M$.
  Das Ideal $(N \!:\! P) \coloneqq \Set{a \!\in\! A}{a P \subseteq N} \!\subseteq\! A$ heißt \emph{Quotient} von~$N$ nach~$P$.
\end{defn}

\begin{defn}
  Das Ideal $\ann M \coloneqq (0 : M)$ heißt \emph{Annulator} von $M$.
\end{defn}

\begin{bem}
  Ist $\aaa \subseteq A$ ein Ideal mit $\aaa \subseteq \ann M$, so können wir $M$ auch als $A/\aaa$-Modul auffassen.
\end{bem}

\begin{defn}
  Der $A$-Modul $M$ heißt \emph{treu}, falls $\ann M = 0$.
\end{defn}

\begin{lem}
  Sei $A$ kommutativ, $N, P \subseteq M$ Untermoduln. Dann gilt \\[2pt]
  \inlineitem{$\ann(N + P) = \ann(N) + \ann(P)$} \quad
  \inlineitem{$(N : P) = \ann((N+P)/N)$}
\end{lem}

% 10.4. Endlich erzeugte Moduln

\begin{defn}
  Sei $M$ ein $A$-Modul, $X \subset M$ eine Teilmenge. \\
  Der von $X$ \emph{erzeugte Untermodul} ist
  \[
    L(X) \coloneqq \sum_{x \in X} A x = \sum_{x \in X} \Set{a x}{a \in A} = \Set{\sum_{x \in X} \lambda_x x}{\lambda_x \in A}.
  \]
\end{defn}

\begin{defn}
  Eine Teilmenge $X \subset M$ heißt \emph{Erzeugendensystem}, falls $L(X) = M$.
  Ein $A$-Modul $M$ heißt \emph{endlich erzeugt}, falls ein endliches Erzeugendensystem von $M$ existiert.
\end{defn}

\begin{bem}
  Ein $A$-Modul $M$ ist ganau dann endlich erzeugt, wenn ein $n \in \N$ und ein surj. $A$-Modulhomomorphismus $\phi : A^n \to M$ existiert.
\end{bem}

% 11. Direkte Summen und Produkte

% 11.1. Definition von direkter Summe und Produkt

\begin{defn}
  Das \emph{direkte Produkt} einer Familie $(M_i)_{i \in I}$ von $A$-Moduln ist das $A$-Modul $\prod_{i \in I} M_i \coloneqq \{ (x_i \in M_i)_{i \in I} \}$ mit kmpnntnwsr Verkn.
\end{defn}

\begin{bem}
  Das direkte Produkt ist das kategorienth. Produkt in $\LMod{A}$.
\end{bem}

\begin{defn}
  Die \emph{direkte Summe} einer Familie $(M_i)_{i \in I}$ von $A$-Moduln ist %das Untermodul
  \begin{align*}
    \bigoplus_{i \in I} M_i & \coloneqq
    \Set{(x_i \in M_i)_{i \in I}}{x_i = 0 \text{ für alle bis auf endl. viele $i \in I$}} \\[-8pt]
    & \subseteq \prod_{i \in I} M_i.
  \end{align*}
\end{defn}

\begin{bem}
  Die dir. Summe ist das kategorienth. Koprodukt in $\LMod{A}$. \\
  Ist $I$ endlich, so gilt $\bigoplus_{i \in I} M_i \cong \prod_{i \in I} M_i$.
\end{bem}

% 11.2. Direkte Summenzerlegung von Ringen

\begin{bsp}[Direkte Summenzerlegung]
  Sei $A = \prod_{i=1}^n A_i$ ein endl. direktes Produkt komm. Ringe.
  Dann gilt $A \cong \aaa_1 \oplus \ldots \oplus \aaa_n$ als $A$-Modul mit
  \[
    \aaa_i \coloneqq \Set{(x_i)_{i=1}^n}{x_j = 0 \text{ für } j \neq i}.
  \]
\end{bsp}

% 12. Endlich erzeugte Moduln

% 12.1. Freie Moduln

\begin{defn}
  Ein \emph{$A$-Modul} $M$ heißt frei, falls eine Menge $I$ existiert, sodass $M \cong \bigoplus_{i \in I}$ als $A$-Modul.
\end{defn}

\begin{bem}
  Ein endlicher freier Modul ist ein Modul, der zu $A^n \coloneqq A \oplus \ldots \oplus A$ für ein $n \in \N$ isomorph ist.
\end{bem}

\begin{prop}
  Sei $A$ ein Ring. Ein $A$-Modul $M$ ist genau dann endl. erzeugt, wenn $M$ der Quotient eines $A$-Moduls der Form $A^n$ für ein $n \in \N$ ist.
\end{prop}

% 12.2. Das Nakayamasche Lemma

\begin{prop}
  Sei $A$ ein komm. Ring, $M$ ein endlich erzeugter $A$-Modul und $\aaa \subseteq A$ ein Ideal.
  Sei $\phi \in \End_A(M)$ mit $\im \phi \subseteq \aaa M$.
  Dann erfüllt $\phi$ eine Gleichung der Form $\phi^n + a_1 \phi^{n-1} + \ldots + a_n = 0$ mit $a_i \in \aaa$.
\end{prop}

\begin{kor}
  Sei $\aaa \subseteq A$ ein Ideal und $M$ ein $A$-Modul mit $\aaa M = M$.
  Dann existiert ein $x \in A$ mit $x = 1$ modulo $\aaa$ und $x M = 0$.
\end{kor}

\begin{lem}[\emph{Nakayama}]
  Sei $\aaa$ ein Ideal von $A$, welches im Jacobsonschen Radikal $\jjj$ von $A$ enthalten ist.
  Dann folgt aus $\aaa M = M$ schon $M = 0$.
\end{lem}

\begin{kor}
  Sei $N \subseteq M$ ein Untermodul und $\aaa \subseteq A$ ein Ideal, welches im Jacobsonschen Ideal $\jjj$ enthalten ist.
  Dann folgt aus $M = \aaa M + N$ schon $M = N$.
\end{kor}

\begin{defn}
  Sei $(A, \mmm, F)$ ein lokaler Ring.
  Sei $M$ ein endlich erz. $A$-Modul.
  Setze $M(\mmm) \coloneqq M/\mmm M$.
  Wegen $\mmm \subseteq \ann(M(\mmm))$ ist $M(\mmm)$ in natürl. Art ein (endlich-dim.) $F$-Vektorraum, die \emph{spezielle Faser} von $M$.
  Das Bild eines Elements $x \in M$ in $M(\mmm)$ wird \emph{Wert des Schnittes} $x$ in der speziellen Faser genannt.
\end{defn}

\begin{prop}
  Sei $(A, \mmm, F)$ ein lokaler Ring, $M$ ein endlich erz. $A$-Modul.
  Seien $x_1, \ldots, x_n$ Schnitte von $M$, deren Werte in $M(\mmm)$ eine Basis bilden.
  Dann erzeugen $x_1, \ldots, x_n$ den $A$-Modul $M$.
\end{prop}

% 13. Exakte Sequenzen
\subsection{Exakte Sequenzen}

% 13.1. Definition und erste Eigenschaften

\begin{defn}
  Sei $A$ ein Ring.
  Eine Sequenz
  \[
    \ldots \to M^{i-1} \xra{\phi^{i-1}} M^i \xra{\phi^i} M^{i+1} \to \ldots
  \]
  von $A$-Moduln und $A$-Modulhomomorphismen heißt \emph{exakt} bei $M^i$, falls $\im \phi^{i-1} = \ker \phi^i$.
  Die Sequenz heißt \emph{exakt}, falls sie exakt bei jedem $M^i$ ist.
\end{defn}

\begin{bsp}
  Sei $\phi : M \to N$ ein $A$-Modulhomomorphismus.
  Dann gilt
  \[
    \begin{array}{l c l}
      \text{$\phi$ ist injektiv} & \iff & 0 \to M \xra{\phi} N \text{ ist exakt} \\
      \text{$\phi$ ist surjektiv} & \iff & M \xra{\phi} N \to 0 \text{ ist exakt}
    \end{array}
  \]
\end{bsp}

\begin{defn}
  Eine \emph{kurze exakte Sequenz} \keS{} von $A$-Moduln ist eine exakte Sequenz der Form $0 \to M' \to M \to M'' \to 0$.
\end{defn}

\begin{bem}
  Jede lange exakte Sequenz $\ldots \to M^{i-1} \to M^i \to M^{i+1} \to \ldots$ zerfällt in kurze exakte Sequenzen: Mit $N^i = \im \phi^{i-1} = \ker \phi^i$ haben wir kurze exakte Sequenzen $0 \to N^i \to M^i \to N^{i+1} \to 0$.
  Andersherum kann man solche kurzen exakten Sequenzen zu einer langen exakten Sequenz zusammenkleben.
\end{bem}

\begin{lem}
  Sei $A$ ein komm. Ring.
  Eine Seq. $E : M' \xra{\phi} M \xra{\psi} M'' \to 0$ ist genau dann exakt, wenn für alle $A$-Moduln $N$ die Sequenz
  \[
    \Hom(E, N) : 0 \to \Hom(M'', N) \xra{\psi^*} \Hom(M, N) \xra{\phi^*} \Hom(M', N).
  \]
  exakt ist.
\end{lem}

\begin{lem}
  Sei $A$ ein kommutativer Ring.
  \begin{itemize}
    \item Eine Sequenz $E : M' \xra{\phi} M \xra{\psi} M'' \to 0$ ist genau dann exakt, wenn für alle $A$-Moduln $N$ folgende induzierte Sequenz exakt ist:
    \[
      \Hom(E, N) : 0 \to \Hom(M'', N) \xra{\psi^*} \Hom(M, N) \xra{\phi^*} \Hom(M', N).
    \]
    \item Eine Sequenz $F : 0 \to N' \xra{\phi} N \xra{\psi} N''$ ist genau dann exakt, wenn für alle $A$-Moduln $M$ folgende induzierte Sequenz exakt ist:
    \[
      \Hom(M, F) : \Hom(M, N') \xra{\phi_*} \Hom(M, N) \xra{\psi_*} \Hom(M, N'') \to 0.
    \]
  \end{itemize}
\end{lem}

% 13.2. Das Schlangenlemma

% Aus der HomoAlg-Zusammenfassung, angepasst
\begin{lem}[\emph{Schlangenlemma}]
  Sei $A$ ein Ring.
  Sei folgendes komm. Diagramm von $A$-Moduln mit exakten Zeilen gegeben:
  \vspace{-8pt}
  \begin{centertikz}
    \matrix (mat) [matrix of nodes, column sep=1cm, row sep=0.45cm]{
      &
      \node (A) {$M'$}; &
      \node (B) {$M$}; &
      \node (C) {$M''$}; &
      \node (O) {$0$}; \\
      \node (O') {$0$}; &
      \node (A') {$N'$}; &
      \node (B') {$N$}; &
      \node (C') {$N''$}; \\
    };
    \draw[->] (A) to node {} (B);
    \draw[->] (B) to node {} (C);
    \draw[->] (C) to node {} (O);
    \draw[->] (O') to node {} (A');
    \draw[->] (A') to node {} (B');
    \draw[->] (B') to node {} (C');
    \draw[->] (A) to node [right] {$\phi'$} (A');
    \draw[->] (B) to node [right] {$\phi$} (B');
    \draw[->] (C) to node [right] {$\phi''$} (C');
  \end{centertikz}
  \vspace{-10pt}
  Dann gibt es einen Verbindungshomomorphismus $\delta : \ker \phi'' \to \coker \phi'$, mit dem folgende Sequenz exakt ist:
  \[ \ker \phi' \to \ker \phi \to \ker \phi'' \xrightarrow{\delta} \coker \phi' \to \coker \phi \to \coker \phi''. \]
\end{lem}

% 13.3. Additive Funktionen

\iffalse
\begin{defn}
  Sei $A$ ein Ring.
  Eine Klasse $\SC$ von $A$-Moduln heißt \emph{Serre-Klasse}, falls $0 \in \SC$ und für alle kurzen exakten Sequenzen $0 \to M' \to M \to M'' \to 0$ von $A$-Moduln gilt: $M', M'' \in \SC \iff M \in \SC$.
\end{defn}
\fi

\begin{defn}
  Sei $A$ ein Ring und $\SC$ eine Klasse von $A$-Moduln. \\
  Eine Abb. $\lambda : \SC \to G$ in eine ab. Gruppe heißt \emph{additive Funktion}, falls für alle kurzen exakten Seq. $0 \to C' \to C \to C'' \to 0$ von Moduln aus $\SC$ gilt, dass $\lambda(C) = \lambda(C') + \lambda(C'')$.
\end{defn}

\begin{bsp}
  Sei $K$ ein Körper und $\SC$ die Klasse der endlich-dim. VR über $K$.
  Dann ist $\dim : \SC \to \Z$ eine additive Funktion.
\end{bsp}

\begin{prop}
  Sei $A$ ein Ring, $\SC$ eine Klasse von $A$-Moduln und $\lambda : \SC \to G$ eine additive Funktion.
  Sei
  \[
    0 \to M^0 \xra{\phi^0} M^1 \to \ldots \to M^{n-1} \xra{\phi^{n-1}} M^n \to 0
  \]
  eine exakte Sequenz von Moduln in $\SC$, sodass auch die Kerne der $\phi^i$ in $\SC$ liegen.
  Dann gilt
  $\sum_{i=0}^n (-1)^i \lambda(M^i) = 0$.
\end{prop}

% 14. Tensorprodukte von Moduln
\subsection{Tensorprodukt}

% 14.1. Bilineare Abbildungen und das Tensorprodukt

\begin{defn}
  Seien $M$, $N$ und $P$ drei $A$-Moduln.
  Eine Abbildung $\beta : M \times N \to P$ heißt \emph{$A$-bilinear}, falls für alle $x \in M$ die Abbildung $\beta(x, \blank)$ und für alle $y \in N$ die Abbildung $\beta(\blank, y)$ ein $A$-Modulhomomorphismus ist.
\end{defn}

\begin{bsp}
  Die Multiplikation $\cdot : A \times A \to A$ ist $A$-bilinear.
\end{bsp}

\begin{prop}
  Seien $M$ und $N$ zwei $A$-Moduln.
  Dann existiert ein $A$-Modul $M \otimes_A N$ und eine bilineare Abbildung $\gamma : M \times N \to M \otimes_A N$ mit folgender universellen Eigenschaft:

  \hfill\begin{minipage}{0.95 \linewidth}
    Für jeden $A$-Modul $P$ und für jede bilineare Abbildung $\beta : M \times N \to P$ gibt es genau einen $A$-Modulhomomorphismus $\underline{\beta} : M \otimes_A N \to P$ mit $\beta = \underline{\beta} \circ \gamma$.
  \end{minipage}
\end{prop}

\begin{defn}
  $M \otimes_A N$ heißt \emph{Tensorprodukt} von $M$ und $N$ über $A$.
\end{defn}

\begin{konstr}
  \begin{itemize}
    \item Sei $C$ der freie $A$-Modul $A^I$ mit $I \coloneqq M \times N$.
    Elemente von $C$ haben die Form $\sum_{i=1}^n \lambda_i (x_i, y_i)$ mit $\lambda_i \in A$, $x_i \in M$, $y_i \in N$.
    \item Sei $D \subset C$ der von allen Elementen der Form
    \begin{align*}
      (x + x', y) - (x, y) - (x', y), \qquad
      & (ax, y) - a (x, y), \\
      (x, y + y') - (x, y) - (x, y'), \qquad
      & (x, ay) - a (x, y)
    \end{align*}
    mit $x, x' \in M$, $y, y' \in N$ und $a \in A$ erzeugte Untermodul.
    \item Setze $M \otimes_A N \coloneqq C/D$.
  \end{itemize}
\end{konstr}

\begin{nota}
  $x \otimes y \coloneqq \gamma(x, y)$
\end{nota}

\begin{bem}
  Jedes Element in $M \otimes_A N$ lässt sich als $\sum_{i=1}^n x_i \otimes y_i$ mit $x_i \in M$, $y_i \in N$ schreiben.
  In $M \otimes_A N$ gelten folgende Rechenregeln:
  \begin{align*}
    & x \otimes (ay) = a (x \otimes y) = (ax) \otimes y \\
    & (x + x') \otimes (y + y') = x \otimes y + x' \otimes y + x \otimes y' + x' \otimes y'
  \end{align*}
\end{bem}

% 14.4. Funktorialität des Tensorproduktes (vorgezogen)
\begin{lem}
  Das Tensorprodukt induziert einen Bifunktor
  \[
    \otimes_A : \LMod{A} \times \LMod{A} \to \LMod{A}.
  \]
\end{lem}

\begin{lem}
  Sei $A$ ein komm. Ring, $M$ und $N$ zwei $A$-Moduln, $x_i \in M$ und $y_i \in N$ mit $\sum_{i=1}^n x_i \otimes y_i = 0$ in $M \otimes_A N$.
  Dann gibt es endlich erzeugte Untermoduln $M_0 \subseteq M$ und $N_0 \subseteq N$ mit $x_1, \ldots, x_n \in M_0$, $y_1, \ldots, y_n \in N_0$ und $\sum_{i=1}^n x_i \otimes y_i = 0$ in $M_0 \otimes_A N_0$
\end{lem}

% 14.2. Multilineare Abbildungen und mehrfache Tensorprodukte

\begin{defn}
  Sei $A$ ein komm. Ring, $M_1, \ldots, M_r$ und $P$ $A$-Moduln. \\
  Eine Abbildung $\mu : M_1 \times \ldots \times M_r \to P$ heißt \emph{$A$-multilinear}, falls sie linear in jedem Argument ist.
\end{defn}

\begin{prop}
  Sei $A$ ein komm. Ring, $M_1, \ldots, M_r$ $A$-Moduln.
  Es existiert ein $A$-Modul $M_1 \otimes_A \ldots \otimes_A M_r$ und eine multilineare Abbildung $\gamma : M_1 \times \ldots \times M_r \to M_1 \otimes_A \ldots \otimes_A M_r$ mit der univ. Eigenschaft

  \hfill\begin{minipage}{0.95 \linewidth}
    Für jeden $A$-Modul $P$ und für jede multilineare Abbildung $\mu : M_1 \times \ldots \times M_r \to P$ gibt es genau einen $A$-Modulhomomorphismus $\underline{\mu} : M_1 \otimes_A \ldots \otimes_A M_r \to P$ mit $\mu = \underline{\mu} \circ \gamma$.
  \end{minipage}
\end{prop}

\begin{konstr}
  $M_1 \otimes_A \ldots \otimes_A M_r \coloneqq M_1 \otimes_A (M_2 \otimes_A (\ldots \otimes_A M_r))$
\end{konstr}

% 14.3. Kanonische Isomorphismen zwischen Tensorprodukten

\begin{prop}
  Sei $A$ ein komm. Ring und $M$, $N$ und $P$ drei $A$-Moduln.
  Es existieren kanonische Isomorphismen
  \begin{align*}
    & M \otimes_A N \cong N \otimes_A M, \qquad
    (M \otimes_A N) \otimes_A P \cong M \otimes_A (N \otimes_A P), \\
    & (M \oplus N) \otimes_A P \cong (M \otimes_A P) \oplus (N \otimes_A P), \qquad
    A \otimes_A M \cong M.
  \end{align*}
\end{prop}

\begin{defn}
  Seien $A$ und $B$ zwei komm. Ringe.
  Ein $(A, B)$-Bimodul ist eine abelsche Gruppe, welche sowohl ein $A$- als auch ein $B$-Modul ist, sodass die Modulstrukturen miteinander verträglich sind, \dh{} für alle $a \in A$, $b \in B$ und $x \in N$ gilt $a (bx) = b (ax)$.
\end{defn}

\begin{lem}
  Sei $M$ ein $A$-Modul, $P$ ein $B$-Modul und $N$ ein $(A, B)$-Bi- modul.
  Dann gibt es einen kanon. Isomorphismus abelscher Gruppen
  \[
    (M \otimes_A N) \otimes_B P \cong M \otimes_A (N \otimes_B P).
  \]
\end{lem}

% 15. Skalareinschränkungen und -erweiterungen

% 15.1. Skalareinschränkung
% 15.2. Skalarerweiterung

\begin{defn}
  Sei $\phi : A \to B$ ein Morphismus kommutativer Ringe. \\
  \begin{itemize}
    \item Die \emph{Skalareinschränkung} eines $B$-Moduls $N$ (vermöge $\phi$) ist der $A$-Modul~$N^A$, der als Menge und ab. Gruppe $N$ ist und dessen Skalarmult. durch $a \cdot x \coloneqq \phi(a) \cdot x$ definiert ist.
    \item Die \emph{Skalarerweiterung} eines $A$-Moduls $M$ (vermöge $\phi$) ist der $B$-Modul~$M_B \coloneqq B^A \otimes_A M$ mit der Skalarmultiplikation definiert durch $b (b' \otimes x) \coloneqq (b b') \otimes x$.
  \end{itemize}
\end{defn}

\begin{prop}
  Sei $\phi : A \to B$ ein Morphismus kommutativer Ringe.
  \begin{itemize}
    \item Sei $N$ ein $B$-Modul.
    Ist $B^A$ als $A$-Modul endlich erzeugt und $N$ als $B$-Modul endlich erzeugt, so ist $N^A$ als $A$-Modul endlich erzeugt.
    \item Sei $M$ ein $A$-Modul.
    Ist $m$ als $A$-Modul endlich erzeugt, so ist $M_B$ als $B$-Modul endlich erzeugt.
  \end{itemize}
\end{prop}

\begin{lem}
  Sei $M$ ein $A$-Modul und $N$ ein $B$-Modul.
  Dann existiert ein kanonischer Isomorphismus $N \otimes_B M_B \cong N^A \otimes_A M$ von $B$-Moduln.
\end{lem}

% 16. Exaktheitseigenschaften des Tensorproduktes

% 16.1. Tensorprodukte und Homomorphismeneigenschaften

\begin{prop}
  Sei $A$ ein komm. Ring und $M$, $N$ und $P$ drei $A$-Moduln. \\
  Dann ist folgende Abbildung ein $A$-Modulisomorphismus:
  \begin{align*}
    \Hom_A(M \otimes_A N, P) & \to \Hom_A(M, \Hom_A(N, P)), \\
    \beta & \mapsto (x \mapsto (y \mapsto \beta(x \otimes y))).
  \end{align*}
\end{prop}

\begin{bem}
  Mit anderen Worten: Es ex. eine Adj. \enspace $\blank \otimes_A N \ladj \Hom_A(N, \blank)$
\end{bem}

% 16.2. Rechtsexaktheit des Tensorprodukts

\begin{prop}
  Sei $A$ ein komm. Ring.
  Das Tensorprodukt ist rechtsexakt, \dh{} ist $E : M' \to M \to M'' \to 0$ eine exakte Sequenz von $A$-Moduln und $N$ ein weiterer $A$-Modul, so ist auch die induzierte Sequenz
  \[
    E \otimes_A N : M' \otimes_A N \to M \otimes_A N \to M'' \otimes_A N \to 0
    \quad \text{exakt.}
  \]
\end{prop}

\begin{bem}
  Dies folgt daraus, dass das Tensorprodukt als Linksadjungierter Kolimiten erhält.
\end{bem}

\begin{acht}
  Das Tensorprodukt ist i.\,A. nicht exakt.
  Insbesondere erhält es keine injektiven Abbildungen.
\end{acht}

% 16.3. Flachheit

\begin{defn}
  Sei $A$ ein kommutativer Ring.
  Ein $A$-Modul $M$ heißt flach, falls $(\blank \otimes_A M)$ exakt ist, \dh{} falls für jede (lange) exakte Sequenz $E$ auch $E \otimes_A M$ exakt ist.
\end{defn}

\begin{prop}
  Sei $A$ komm. und $M$ ein $A$-Modul.
  Es sind äquivalent:
  \begin{itemize}
    \item Der $A$-Modul $M$ ist flach.
    \item Für jede kurze exakte Sequenz $E : 0 \to N' \to N \to N'' \to 0$ ist die tensorierte Sequenz $E \otimes_A M$ exakt.
    \item Für jede injektive $A$-lineare Abbildung $\phi : N \to N'$ ist auch $\phi \otimes \id_M : N \otimes_A M \to N' \otimes_A M$ injektiv.
    \item Für jede inj. $A$-lineare Abb. $\phi : N \to N'$ zw. endl. erzeugten $A$-Moduln ist auch $\phi \otimes \id_M : N \otimes_A M \to N' \otimes_A M$ injektiv.
  \end{itemize}
\end{prop}

\begin{prop}
  Sei $\phi : A \to B$ ein Homomorphismus kommutativer Ringe.
  Ist $M$ ein flacher $A$-Modul, so ist $M_B$ ein flacher $B$-Modul.
\end{prop}

% 17. Algebren
\subsection{Algebren}

% 17.1. Definition von Algebren

\begin{defn}
  Eine kommutative \emph{$A$-Algebra} $B$ ist ein kommutativer Ring $B$ zusammen mit einem Ringhomomorphismus $\phi : A \to B$, dem \textit{Strukturmorphismus} der Algebra.
\end{defn}

\begin{bem}
  Ist $a \in A$ und $b \in B$, so definieren wir $a b \coloneqq \phi(a) b$ (wie bei der Skalareinschränkung).
\end{bem}

\begin{bspe}
  \begin{itemize}
    \item Sei $K$ ein Körper.
    Eine nichttriviale $K$-Algebra ist dasselbe wie ein Ring, der $K$ als Unterring enthält.
    \item Jeder Ring ist auf genau eine Weise eine $\Z$-Algebra.
  \end{itemize}
\end{bspe}

\begin{defn}
  Ein \textit{Homomorphismus} von $A$-Algebren $B$ und $C$ ist ein Ringhomomorphismus $\chi : B \to C$, welcher einen Homomorphismus $\chi : B^A \to C^A$ von $A$-Moduln induziert.
\end{defn}

\begin{bem}
  Ein Ringhomomorphismus $\chi : B \to C$ ist also genau dann ein $A$-Algebrenhomomor., wenn $\chi(ab) = a \chi(b)$ für alle $a \in A$ und $b \in B$.
\end{bem}

\begin{bem}
  $A$-Algebren und ihre Homomor. bilden eine Kategorie $\AAlg{A}$.
\end{bem}

% 17.2. Endliche Algebren und Algebren endlichen Typs

\begin{defn}
  Sei $A$ ein komm. Ring.
  Eine komm. $A$-Algebra $B$ heißt eine \ldots
  \begin{itemize}
    \item \ldots \emph{endliche $A$-Algebra}, falls $B^A$ als $A$-Modul endlich erzeugt ist, \dh{} falls endlich viele Elemente $b_1, \ldots, b_n \in B$ existieren, sodass jedes Element aus $B$ als $A$-Linearkombination der $b_i$ geschrieben werden kann.
    \item \ldots \emph{endlich erzeugte $A$-Algebra} oder $A$-Algebra \emph{endlichen Typs}, falls endlich viele Elemente $b_1, \ldots, b_n \in B$ existieren, sodass jedes andere Element von $B$ als Polynom in den $b_i$ mit Koeffizienten aus $A$ geschrieben werden kann.
  \end{itemize}
\end{defn}

\begin{defn}
  Ein kommutativer Ring heißt \emph{endlich erzeugt}, falls er eine $\Z$-Algebra endlichen Typs ist.
\end{defn}

% 18. Tensorprodukte von Algebren

% 18.1. Definition des Tensorproduktes zweier Algebren

\begin{defn}
  Sei $A$ ein kommutativer Ring.
  Seien $\phi : A \to B$ und $\psi : A \to C$ die Strukturabbildungen zweier $A$-Algebren $B$ und $C$.
  Dann ist auf $D \coloneqq B^A \otimes_A C^A$ eine Multiplikation durch
  \[
    \mu : D \times D \to D, \quad (b \otimes c, b' \otimes c') \mapsto (b b') \otimes (c c')
  \]
  definiert.
  Der Ring $D$ wird mit der Strukturabbildung
  \[
    \rho : A \to D, \quad a \mapsto \phi(a) \otimes 1 = 1 \otimes \psi(A)
  \]
  zu einer $A$-Algebra.
  Diese heißt \emph{Tensorprodukt} $B \otimes_A C$ der kommutativen Algebren $B$ und $C$.
\end{defn}

% 19. Gerichtete Limiten
\subsection{Gerichtete Limiten}

% 19.1. Definition des gerichteten Limes

\begin{defn}
  Eine \emph{gerichtete Menge} ist eine nichtleere teilweise geordnete Menge $(I, \leq)$, sodass $\fa{i, j \in I} \ex{k \in I} i \leq k \wedge j \leq k$.
  %für alle $i, j \in I$ ein $k \in I$ mit $i \leq k$ und $j \leq k$ existiert.
\end{defn}

\begin{bem}
  Eine teilweise geordnete Menge $(I, \leq)$ ist genau dann gerichtet, wenn in $I$, aufgefasst als Präordnungskategorie, jedes endliche Diagramm einen Kokegel besitzt.
\end{bem}

\begin{defn}
  Sei $(I, \leq)$ eine gerichtete Menge und $A$ ein Ring. \\
  Ein \emph{gerichtetes System} $M_\bullet$ von $A$-Moduln über $I$ ist ein Funktor
  \[
    M_\bullet : I \to \LMod{A}, \quad i \mapsto M_i, \quad (i \leq j) \mapsto \mu^i_j : M_i \to M_j,
  \]
  wobei wir $I$ als Präordnungskategorie auffassen.
\end{defn}

\begin{prop}
  Sei $M_\bullet$ ein gerichtetes System von $A$-Moduln.
  Dann existiert der Kolimes $\varinjlim_{i \in I} M_i$ von $M_\bullet$.
\end{prop}

\begin{defn}
  Dieser Kolimes wird \emph{gerichteter Limes} von $M_\bullet$ genannt.
\end{defn}

\begin{konstr}
  \begin{itemize}
    \item Sei $C \coloneqq \bigoplus_{i \in I} M_i$.
    \item Sei $D \subseteq C$ der Untermodul, der von allen Elementen der Form $x_i - \mu^i_j(x_i)$ mit $i \leq j$ und $x_i \in M_i$ erzeugt wird.
    \item Dann erfüllt $M \coloneqq C/D$ die geforderte universelle Eigenschaft.
  \end{itemize}
\end{konstr}

% 19.2. Universelle Eigenschaft des gerichteten Limes

\begin{bem}
  \begin{itemize}
    \item Jedes $x \in \varinjlim_{i \in I} M_i$ wird durch ein $x_i \in M_i$ repräsentiert.
    \item Ein Element $x_i \in M_i$ repräsentiert dabei genau dann das Null- element, falls ein $j \in I$ mit $i \leq j$ existiert, sodass $\mu^i_j(x_i) = 0$.
  \end{itemize}
\end{bem}

\begin{lem}
  Jeder $A$-Modul ist der gerichtete Limes seiner endlich erzeugten Untermoduln.
\end{lem}

% 19.3. Exakte Sequenzen gerichteter Systeme

\begin{defn}
  Sei $(I, \leq)$ eine gerichtete Menge.
  Ein \textit{Homomorphismus} von gerichteten Systemen $M_\bullet$ und $N_\bullet$ von $A$-Moduln über $I$ ist eine natürliche Transformation $\phi_\bullet : M_\bullet \to N_\bullet$.
\end{defn}

\begin{bem}
  Damit bilden gerichtete Systeme von $A$-Moduln über $I$ zusammen mit ihren Homomorphismen eine Kategorie $[I, \LMod{A}]$.
\end{bem}

\begin{prop}
  Sei $\phi_\bullet : M_\bullet \to N_\bullet$ ein Morphismus zwischen gerichtete Systeme von $A$-Moduln über $I$, $M \coloneqq \varinjlim_{i \in I} M_i$ und $N \coloneqq \varinjlim_{i \in I} N_i$. \\
  Dann gibt es genau einen Morphismus $\phi \coloneqq \varinjlim_{i \in I} \phi_i : M \to N$ mit
  \[
    (M_i \to M \xra{\phi} N) = (M_i \xra{\phi_i} N_i \to N) \quad
    \text{für alle } i \in I.
  \]
\end{prop}

\begin{bem}
  Damit ist der gerichtete Limes ein Funktor
  \[
    \varinjlim_{i \in I} : [I, \LMod{A}] \to \LMod{A}.
  \]
\end{bem}

\begin{defn}
  Eine Sequenz $M_\bullet \xra{\phi_\bullet} N_\bullet \xra{\psi_\bullet} P_\bullet$ von gerichteten Systemen von $A$-Moduln über $I$ heißt \emph{exakt}, falls für alle $i \in I$ die Sequenz $M_i \xra{\phi_i} N_i \xra{\psi_i} P_i$ exakt ist.
\end{defn}

\begin{prop}
  Der Gerichteter-Limes-Funktor ist exakt: \\
  Sei $M_\bullet \xra{\phi_\bullet} N_\bullet \xra{\psi_\bullet} P_\bullet$ eine exakte Sequenz gerichteter Systeme von $A$-Moduln über $I$.
  Dann ist die induzierte Sequenz
  \[
    \varinjlim_{i \in I} M_i \xra{\varinjlim \phi_i}
    \varinjlim_{i \in I} N_i \xra{\varinjlim \psi_i}
    \varinjlim_{i \in I} P_i
    \qquad \text{auch exakt.}
  \]
\end{prop}

% 19.4. Tensorprodukte und gerichtete Limiten

\begin{prop}
  Sei $M_\bullet$ ein gerichtes System von $A$-Moduln über $I$ und $N$ ein $A$-Modul.
  Dann gibt es einen kanonischen Isomorphismus
  \[
    \varinjlim_{i \in I} \, (M_i \otimes_A N) \cong ( \varinjlim_{i \in I} M_i) \otimes_A N.
  \]
\end{prop}

% 19.5. Gerichtete Limiten von Ringen

\begin{prop}
  Sei $A_\bullet$ ein gerichtetes System von Ringen und Ringhomo- morphismen.
  Fasse $A_\bullet$ als gerichtetes System von ab. Gruppen (\dh{} $\Z$-Moduln) auf.
  Dann gibt es $A \coloneqq \varinjlim_{i \in I} A_i$ eine Multiplikation, sodass $A$ ein Ring ist und die Gruppenhomomorphismen $A_i \to A$ sogar Ringhomomorphismen sind.
\end{prop}

\begin{prop}
  Ist $\varinjlim_{i \in I} A_i = 0$, so gibt es ein $i \in I$ mit $A_i = 0$.
\end{prop}

\begin{defn}
  Sei $(B_i)_{i \in I}$ eine Familie kommutativer $A$-Algebren. \\
  Für eine endliche Teilmenge $J \subset I$ setzen wir $B_J \coloneqq \bigotimes_{i \in J} B_i$. \\
  Dann ist $B_\bullet$ ein gerichtetes System über $(\PS(I)_{\text{fin}}, \subseteq)$.
  Der Limes $\bigotimes_{i \in I} B_i \coloneqq \varinjlim_{J \subseteq I} B_J$ heißt \emph{Tensorprodukt} über die Familie $(B_i)_{i \in I}$.
\end{defn}

% III. Lokalisierungen von Ringen und Moduln
\section{Lokalisierung}

% 20. Lokalisierung von Ringen und Moduln

% 20.1. Lokalisierung eines Ringes

\begin{defn}
  Sei $A$ ein Ring.
  Eine \emph{multiplikativ abgeschl. Teilmenge} von $A$ ist eine Teilmenge $S \subseteq A$ mit $1 \in S$ und $xy \in S$ für alle $x, y \in S$.
\end{defn}

\begin{bspe}
  \begin{itemize}
    \item Ein Ring $A$ ist genau dann ein Integritätsbereich, wenn $A \setminus \{ 0 \}$ multiplikativ abgeschlossen ist.
    \item Sei $\aaa \subseteq A$ ein Ideal. Dann ist $1 + \aaa$ mult. abgeschlossen.
  \end{itemize}
\end{bspe}

\begin{prop}
  Sei $A$ ein komm. Ring und $S \subseteq A$ mult. abgeschlossen. \\
  Dann gibt es einen komm. Ring $S^{-1} A$ und einen Ringhomomor. $\iota : A \to S^{-1} A$ mit folgender universeller Eigenschaft:
  
  \hfill\begin{minipage}{0.95 \linewidth}
    Für jeden Ring $B$ und Ringhomomor. $\phi : A \to B$ mit $\phi(S) \subseteq B^{\times}$ gibt es genau einen Ringhomomor. $\psi : S^{-1} A \to B$ mit $\phi = \psi \circ \iota$.
  \end{minipage}
\end{prop}

\begin{konstr}
  \begin{itemize}
    \item Führe auf der Menge der Paare $(a, s) \in A \times S$ eine Äquivalenzrelation ein durch
    \[
      (a, s) \sim (b, t) \coloniff \ex{u \in S} u (at - bs) = 0.
    \]
    \item Setze $S^{-1} A \coloneqq (A \times S)/{\sim}$.
    \item Wir schreiben $\tfrac{a}{s}$ für die Äquivalenzklasse von $(a, s)$ in $S^{-1} A$.
    \item Auf $S^{-1} A$ sind  Addition und Mult. (wohl!) definiert durch
    \[
      \tfrac{a}{s} + \tfrac{b}{t} \coloneqq \tfrac{at + bs}{st}, \quad
      \tfrac{a}{s} \cdot \tfrac{b}{t} \coloneqq \tfrac{ab}{st}.
    \]
    \item Der Ringhomomorphismus ist gegeben durch $\iota(a) \coloneqq \tfrac{a}{1}$.
  \end{itemize}
\end{konstr}

\begin{defn}
  Der kommutative Ring $S^{-1} A$ heißt \emph{Lokalisierung} von~$A$ nach~$S$ und $\iota : A \to S^{-1} A$ ihr \textit{Strukturhomomorphismus}.
\end{defn}

% 20.2. Eigenschaften der Lokalisierung

\begin{prop}
  Sei $A$ komm. und $S \subseteq A$ mult. abgeschlossen.
  Dann gilt:
  \begin{itemize}
    \item Für alle $s \in S$ ist $\iota(s)$ eine Einheit in $S^{-1} A$.
    \item Ist $a \in A$ mit $\iota(a) = 0$, so gibt es ein $s \in S$ mit $as = 0$ in $A$.
    \item Jedes Element in $S^{-1} A$ hat die Form $\iota(a) \iota(s)^{-1}$ für ein $a \in A$ und ein $s \in S$.
  \end{itemize}
\end{prop}

\begin{bem}
  Diese drei Eigenschaften charakterisieren die Lokalisierung eindeutig:
  Ist $\phi : A \to B$ ein Ringhomomorphismus, der die drei Eigenschaften von $\iota$ aus der letzten Prop. erfüllt, so gilt $B \cong S^{-1} A$.
\end{bem}

% 20.3. Beispiele von Lokalisierungen

\begin{defn}
  Sei $A$ ein komm. Ring und $\ppp \subset A$ ein Primideal.
  Dann ist $A \setminus \ppp$ multiplikativ abgeschlossen.
  Der komm. Ring $A_\ppp \coloneqq (A \setminus \ppp)^{-1} A$ heißt \emph{Lokalisierung} von~$A$ bei~$\ppp$ oder \emph{Halm} von~$A$ an~$\ppp$.
\end{defn}

\begin{bem}
  $A_\ppp$ ist ein lokaler Ring mit maximalem Ideal
  \[
    \mmm \coloneqq A_\ppp \ppp = \Set{\tfrac{a}{s}}{a \in \ppp, s \in A \setminus \ppp}.
  \]
\end{bem}

\begin{defn}
  Sei $A$ ein Integritätsbereich.
  Dann ist $S \coloneqq A \setminus \{ 0 \}$ mult. abgeschlossen.
  Die Lokal. $S^{-1} A$ heißt \emph{Quotientenkörper} von $A$.
\end{defn}

\begin{bem}
  Der Strukturhomomorphismus $A \to S^{-1} A$ ist in diesem Fall injektiv, wir können daher $A$ als Unterring von $S^{-1} A$ ansehen.
  Der Körper $S^{-1} A$ ist der kleinste Körper, der $A$ als Unterring enthält.
\end{bem}

\begin{bsp}
  $\Q$ ist der Quotientenkörper von $\Z$
\end{bsp}

\begin{bsp}
  $S^{-1} A = 0 \iff 0 \in S$
\end{bsp}

\begin{defn}
  Sei $A$ ein komm. Ring, $f \in A$.
  Dann ist $S \coloneqq \Set{f^n}{n \geq 0}$ mult. abgeschlossen.
  Die Lokalisierung $A[f^{-1}] \coloneqq S^{-1} A$ heißt \emph{Lokalisierung} von $A$ \emph{außerhalb} von $f$.
\end{defn}

% 20.4. Lokalisierung von Moduln

\begin{konstr}
  Sei $A$ ein kommutativer Ring, $S \subseteq A$ multiplikativ abgeschlossen und $M$ ein $A$-Modul.
  \begin{itemize}
    \item Wir definieren auf der Menge der Paare $M \times S$ eine Äquivalenzrelation durch
    \[
      (m, s) \sim (m', s') \coloniff \ex{u \in S} u (m s' - m' s) = 0.
    \]
    \item Wir schreiben $\tfrac{m}{s}$ für die Äquivalenzklasse von $(m, s)$.
    \item Vermöge der Addition und der Skalarmultiplikation
    \[
      \tfrac{m}{s} + \tfrac{n}{t} \coloneqq \tfrac{m t + n s}{s t}
      \qquad \text{bzw.} \qquad
      \tfrac{a}{s} \cdot \tfrac{m}{t} \coloneqq \tfrac{a m}{s t}
    \]
    wird $S^{-1} M \coloneqq (M \times S)/{\sim}$ zu einem $S^{-1} A$-Modul.
  \end{itemize}
\end{konstr}

\begin{defn}
  Der $S^{-1} A$-Modul $S^{-1} M$ heißt \emph{Lokalisierung} von $M$ nach $S$ und $\iota : M \to (S^{-1} M)^A, \enspace m \mapsto \tfrac{m}{1}$ sein \textit{Strukturhomomorphismus}.
\end{defn}

\begin{defn}
  Sei $\ppp \subset A$ ein Primideal.
  Der $A_\ppp$-Modul $M_\ppp \coloneqq (A \setminus \ppp)^{-1} M$ heißt \textit{Lokalisierung} von~$M$ bei~$\ppp$ oder \textit{Halm} von~$M$ an~$\ppp$. \\
  Das Bild von $m \in M$ in $M_\ppp$ heißt \emph{Keim} von~$m$ an~$\ppp$.
\end{defn}

\begin{defn}
  Sei $f \in A$.
  Dann heißt $M[f^{-1}] \coloneqq \Set{f^n}{n \geq 0}^{-1} M$ die \textit{Lokalisierung} von $M$ außerhalb von~$f$.
  Das Bild von $m \in M$ in $M[f^{-1}]$ heißt \textit{Einschränkung} von~$m$ außerhalb von~$f$.
\end{defn}

% 20.5. Exaktheit der Lokalisierung

\begin{bem}
  Sei $A$ ein kommutativer Ring und $S \subseteq A$ mult. abgeschlossen.
  Die Lokalisierung von $A$-Moduln nach~$S$ stiftet einen Funktor $\LMod{A} \to \LMod{(S^{-1} A)}$:
  Für einen Morphismus $\phi : M \to N$ ist
  \[
    S^{-1} \phi : S^{-1} M \to S^{-1} N, \quad
    \tfrac{m}{s} \mapsto \tfrac{\phi(m)}{s}.
  \]
\end{bem}

\begin{prop}
  Die Lokalisierung ist exakt:
  Sei $A$ ein komm. Ring und $S \subseteq A$ mult. abgeschlossen.
  Ist $M' \xra{\phi} M \xra{\psi} M''$ exakt, so ist auch $S^{-1} M' \xra{S^{-1} \phi} S^{-1} M \xra{S^{-1} \psi} S^{-1} M''$ exakt.
\end{prop}

\begin{prop}
  Sei $A$ ein kommutativer Ring und $S \subseteq A$ mult. abgeschlossen. \\
  Sei $M$ ein $A$-Modul und $P, N \subseteq M$ Untermoduln.
  Dann gilt:
  \begin{itemize}
    \item $S^{-1} (N + P) = S^{-1} N + S^{-1} P \subseteq S^{-1} M$
    \item $S^{-1} (M / N) \cong S^{-1} M / S^{-1} N$ als $S^{-1} A$-Moduln
    \item $S^{-1} (N \cap P) = S^{-1} N \cap S^{-1} P \subseteq S^{-1} M$
  \end{itemize}
\end{prop}


% 20.6. Lokalisierung als Basiswechsel

\begin{prop}
  Sei $A$ ein komm. Ring und $S \subseteq A$ mult. abgeschlossen.
  Sei $M$ ein $A$-Modul.
  Dann ist folgende Abb. ein Iso von $S^{-1} A$-Moduln:
  \[
    \phi : S^{-1} A \otimes_A M \to S^{-1} M, \enspace \tfrac{a}{s} \otimes m \mapsto \tfrac{a m}{s}
  \]
\end{prop}

\begin{kor}
  Sei $A$ ein komm. Ring und $S \subseteq A$ mult. abgeschlossen.
  Dann ist $S^{-1} A$ eine flache $A$-Algebra.
\end{kor}

\begin{prop}
  Sei $A$ ein kommutativer Ring und $S \subseteq A$ mult. abgeschlossen. \\
  Seien $M$ und $N$ zwei $A$-Moduln.
  Dann ist folgende Abbildung ein Isomorphismus von $S^{-1} A$-Moduln:
  \[
    \phi : S^{-1} M \otimes_{S^{-1} A} S^{-1} N \to S^{-1} (M \otimes N), \quad
    \tfrac{m}{s} \otimes \tfrac{n}{t} \mapsto \tfrac{m \otimes n}{s t}
  \]
\end{prop}

\begin{bsp}
  Sei $\ppp \subset A$ ein Primideal.
  Dann gilt $M_\ppp \otimes_{A_\ppp} N_\ppp \cong (M \otimes_A N)_\ppp$.
\end{bsp}

% 21. Lokale Eigenschaften
\subsection{Lokale Eigenschaften}

\begin{sprech}
  Eine Eigenschaft kommutativer Ringe (oder Moduln über einem solchen) heißt \emph{lokal}, falls gilt: \\[2pt]
  Ein Ring~$A$ (bzw. Modul~$M$) besitzt die Eigenschaft genau dann, wenn all seine Halme~$A_\ppp$ (bzw.~$M_\ppp$) die Eigenschaft besitzen.
\end{sprech}

% 21.1. Trivialität von Moduln

\begin{prop}
  Sei~$A$ ein kommutativer Ring und $M$ ein $A$-Modul. \\
  Dann sind äquivalent:
  \begin{itemize}
    \item $M = 0$
    \item $M_\ppp = 0$ für alle Primideale $\ppp \subset A$
    \item $M_\mmm = 0$ für alle max. Ideale $\mmm \subset A$
  \end{itemize}
\end{prop}

% 21.2. Injektivität und Surjektivität

Mit der Exaktheit der Lokalisierung folgt:

\begin{kor}
  Sei $A$ ein kommutativer Ring und $\phi : M \to N$ ein Homomorphismus von $A$-Moduln.
  \begin{itemize}
    \item Es sind äquivalent:
    \begin{itemize}
      \item $\phi : M \to N$ ist injektiv.
      \item $\phi_\ppp : M_\ppp \to N_\ppp$ ist injektiv für alle Primideale $\ppp \subset A$.
      \item $\phi_\mmm : M_\mmm \to N_\mmm$ ist injektiv für alle max. Ideale $\mmm \subset A$.
    \end{itemize}
    \item Es sind äquivalent:
    \begin{itemize}
      \item $\phi : M \to N$ ist surjektiv.
      \item $\phi_\ppp : M_\ppp \to N_\ppp$ ist surjektiv für alle Primideale $\ppp \subset A$.
      \item $\phi_\mmm : M_\mmm \to N_\mmm$ ist surjektiv für alle max. Ideale $\mmm \subset A$.
    \end{itemize}
  \end{itemize}
\end{kor}

% 21.3. Flachheit

\begin{prop}
  Sei~$A$ ein kommutativer Ring und $M$ ein $A$-Modul.
  Dann sind äquivalent:
  \begin{itemize}
    \item $M$ ist ein flacher $A$-Modul.
    \item $M_\ppp$ ist ein flacher $A_\ppp$-Modul für alle Primideale $\ppp \subset A$.
    \item $M_\ppp$ ist ein flacher $A_\mmm$-Modul für alle max. Ideale $\mmm \subset A$.
  \end{itemize}
\end{prop}

% 22. Idealerweiterungen und -kontraktionen in Lokalisierungen
\subsection{Ideale in Lokalisierungen}

% 22.1. Erweiterungen und Kontraktionen

\begin{nota}
  Sei $A$ ein komm. Ring und $S \subseteq A$ mult. abgeschlossen.
  Für ein Ideal $\aaa \subseteq A$ schreiben wir $S^{-1} \aaa \coloneqq (S^{-1} A) \aaa$.
\end{nota}

\begin{bem}
  Dies ist gerechtfertigt, denn jedes Element in $(S^{-1} A) \aaa$ hat die Form $\sum_i \tfrac{a_i}{s_i}$ und diese Terme können wir auf einen gemeinsamen Nenner bringen.
\end{bem}

\begin{prop}
  Alle Ideale in $S^{-1} A$ sind erweiterte Ideale, \dh{} von der Form $S^{-1} \aaa$ für ein Ideal $\aaa \subseteq A$.
\end{prop}

\begin{prop}
  $A \cap (S^{-1} \aaa) = \bigcup_{s \in S} (\aaa : s)$
\end{prop}

\begin{bsp}
  $S^{-1} \aaa = (1) \iff \aaa \cap S \neq \emptyset$
\end{bsp}

\begin{prop}
  Sei $A$ ein komm. Ring und $S \subseteq A$ mult. abgeschlossen. \\
  Ein Ideal $\aaa \subset A$ ist genau dann ein kontrahiertes Ideal bezüglich $A \to S^{-1} A$, wenn kein Element von $S$ ein Nullteiler in $A/\aaa$ ist.
\end{prop}

\begin{prop}
  Sei $A$ ein komm. Ring.
  Die Lokalisierung nach einer mult. abg. Teilmenge $S \subseteq A$ vertauscht mit folgenden Ideal-Operationen: \\
  endl. Summen, endl. Produkte, endl. Schnitte und Wurzeln. \\
  Das heißt, für zwei Ideale $\aaa, \bbb \subseteq A$ gilt:
  \begin{itemize}
    \miniitem{0.48 \linewidth}{$S^{-1} (\aaa + \bbb) = S^{-1} \aaa + S^{-1} \bbb$}
    \miniitem{0.48 \linewidth}{$S^{-1} (\aaa \cdot \bbb) = S^{-1} \aaa \cdot S^{-1} \bbb$}
    \miniitem{0.48 \linewidth}{$S^{-1} (\aaa \cap \bbb) = S^{-1} \aaa \cap S^{-1} \bbb$}
    \miniitem{0.48 \linewidth}{$S^{-1} \sqrt{\aaa} = \sqrt{S^{-1} \aaa}$}
  \end{itemize}
  % (doppelt: der Satz zum Merken, die Formeln zum schnellen Finden, wenn man nach ihnen sucht)
\end{prop}

\begin{kor}
  $\sqrt{(0)} = S^{-1} \sqrt{(0)} \subseteq S^{-1} A$
\end{kor}

% 22.2. Primideale und Lokalisierungen

\begin{prop}
  Sei $A$ ein komm. Ring und $S \subseteq A$ mult. abgeschlossen.
  Folgende Korrespondenz ist bijektiv und monoton:
  \[
    \arraycolsep=4pt
    \begin{array}{r c l}
      \{ \text{ Primideale $\ppp \!\subset\! A$ mit $\ppp \cap S = \emptyset$ } \} & \leftrightarrow & \{ \text{ Primideale $\qqq \subset S^{-1} A$ } \} \\
      \ppp & \mapsto & S^{-1} \ppp = (S^{-1} A) \ppp \\
      A \cap \qqq & \mapsfrom & \qqq
    \end{array}
  \]
\end{prop}

\begin{kor}
  Für ein Primideal $\rrr \subset A$ liefert dies eine Korrespondenz
  \[
    \arraycolsep=4pt
    \begin{array}{r c l}
      \{ \text{ Primideale $\ppp \subset A$ mit $\ppp \subseteq \rrr$ } \} & \leftrightarrow & \{ \text{ Primideale $\qqq \subset A_\rrr$ } \}
    \end{array}
  \]
\end{kor}

\begin{bem}
  Sei $\ppp \subset A$ ein Primideal und $\qqq \subseteq \ppp$ ein weiteres Primideal.
  Lokalisieren bei $\ppp$ schneidet alle Primideale heraus, die nicht in $\ppp$ enthalten sind.
  Der Wechsel nach $A/\qqq$ schneidet alle Primideale heraus außer denen, die $\qqq$ enthalten.
  Somit enthält $A_\ppp / (A_\ppp \qqq) = (A/\qqq)_\ppp$ nur Primideale zwischen $\qqq$ und $\ppp$.
\end{bem}

\begin{defn}
  Sei $A$ ein komm. Ring und $\ppp \subset A$ ein Primideal.
  Der Körper $A(\ppp) \coloneqq A_\ppp / (A_\ppp \qqq) = (A/\qqq)_\ppp$ heißt \emph{Restklassenkörper} von~$A$ an~$\ppp$.
\end{defn}

\begin{prop}
  Sei $\phi : A \to B$ ein Homomorphismus kommutativer Ringe.
  Dann ist ein Primideal $\ppp \subset A$ genau dann eine Kontraktion eines Primideals in~$B$, falls $A \cap (B \ppp) = \ppp$.
\end{prop}

% 22.3. Lokalisierungen und der Annulator

\begin{prop}
  Sei $A$ ein komm. Ring, $S \subseteq A$ mult. abgeschlossen und $M$ ein endlich erzeugter $A$-Modul.
  Dann ist $S^{-1} \ann(M) = \ann(S^{-1} M)$.
\end{prop}

\begin{kor}
  Sei $A$ ein komm. Ring, $S \subseteq A$ mult. abgeschlossen, $M$ ein $A$-Modul und $N, P \subseteq M$ zwei Untermoduln.
  Ist $P$ endlich erzeugt, so gilt $S^{-1} (N : P) = (S^{-1} N : S^{-1} P)$.
\end{kor}

% III. Primärzerlegung
\section{Primärzerlegung}

% 23. Primärzerlegung I

% 23.1. Primäre Ideale

\begin{defn}
  Ein Ideal $\qqq \subset A$ heißt \emph{primär}, falls $1 \not\in \qqq$ und falls aus $x y \in \qqq$ schon $x \in \qqq$ oder $\ex{n \in \N} y^n \in \qqq$ folgt.
\end{defn}

\begin{lem}
  $\qqq \subsetneq A$ ist primär $\iff$ $\{ \text{ Nullteiler } \} = \sqrt{(0)}$ in $A/\qqq$
\end{lem}

\begin{bspe}
  \begin{itemize}
    \item Primideale sind primär.
    \item Sei $\phi : A \to B$ ein Homomorphismus kommutativer Ringe. \\
    Ist $\bbb \subset B$ primär, so auch $A \cap \bbb \subset A$.
  \end{itemize}
\end{bspe}

\begin{lem}
  Sei $\qqq$ primär.
  Dann ist $\sqrt{\qqq}$ das kleinste Primideal mit $\ppp \supseteq \qqq$.
\end{lem}

\begin{defn}
  Sei $\qqq \subset A$ ein primäres Ideal und $\ppp \coloneqq \sqrt{\qqq}$.
  Dann heißt $\qqq$ ein \emph{$\ppp$-primäres} Ideal.
\end{defn}

\begin{bem}
  $\begin{array}[t]{l c l}
    \text{Primzahlen} & \hat{=} & \text{Primideale} \\
    \text{Primzahlpotenzen} & \hat{=} & \text{primäre Ideale} \\
  \end{array}$
\end{bem}

\begin{bsp}
  Die primären Ideale in $\Z$ sind die Ideale der Form $(0)$ und $(p^n)$ für eine Primzahl $p$.
\end{bsp}

\begin{acht}
  Im Allgemeinen ist ein primäres Ideal keine Potenz eines Primideals!
  Andersherum ist die Potenz eines Primideals auch nicht notwendigerweise primär.
  Analoges gilt aber für max. Ideale:
\end{acht}

\begin{prop}
  Sei $\aaa \subset A$ ein Ideal.
  Ist $\mmm \coloneqq \sqrt{\aaa}$ ein maximales Ideal, so ist~$\aaa$ ein $\mmm$-primäres Ideal.
\end{prop}

\begin{kor}
  Ist $\mmm$ ein max. Ideal, so sind $\mmm^n$ mit $n \geq 1$ alle $\mmm$-primär.
\end{kor}

% vorgezogen aus 23.3.
\begin{defn}
  Sei $A$ ein komm. Ring und $\aaa \subseteq A$ ein Ideal.
  Eine Darstellung von $\aaa$ als Schnitt $\aaa = \qqq_1 \cap \ldots \cap \qqq_n$ endlich vieler primärer Ideale $\qqq_i$ heißt \emph{Primärzerlegung} von $\aaa$.
  Sind die $\sqrt{\qqq_i}$ paarweise verschieden und gilt $\qqq_i \not\supset \bigcap_{i \neq j} \qqq_j$ für alle $i$, so heißt die Primärzerlegung \emph{minimal}.
\end{defn}

\begin{defn}
  Ein Ideal $\aaa \subseteq A$ heißt \emph{zerlegbar}, wenn es eine Primärzerlegung besitzt.
\end{defn}

% 23.2. Schnitte und Idealquotienten primärer Ideale

\begin{lem}
  Sei $\ppp \subset A$ ein Primideal und $\qqq_1, \ldots, \qqq_n$ alle $\ppp$-primär. \\
  Dann ist auch $(\qqq_1 \cap \ldots \cap \qqq_n)$ wieder $\ppp$-primär.
\end{lem}

\begin{kor}
  Man kann eine Primärzerlegung eines Ideals zu einer minimalen Primärzerlegung reduzieren.
\end{kor}

\begin{lem}
  Sei $\ppp \subset A$ prim, $\qqq$ ein $\ppp$-primäres Ideal und $x \in A$.
  Dann gilt:
  \begin{itemize}
    \item Ist $x \in \qqq$, so gilt $(\qqq : x) = (1)$.
    \item Ist $x \not\in \qqq$, so ist $(\qqq : x)$ ein $\ppp$-primäres Ideal.
    \item Ist $x \not\in \ppp$, so ist $(\qqq : x) = \qqq$.
  \end{itemize}
\end{lem}

% 23.3. Primärzerlegungen

\begin{satz}[erster Eindeutigkeitssatz]
  Sei $A$ ein komm. Ring und $\aaa \subseteq A$ ein Ideal mit minimaler Primärzerlegung $\aaa = \qqq_1 \cap \ldots \cap \qqq_n$. \\
  Sei $\ppp_i = \sqrt{\qqq_i}$.
  Dann sind die Ideale $\ppp_i$ genau die Ideale, die von der Form $\sqrt{(\aaa : x)}$ mit $x \in A$ sind.
\end{satz}

\begin{bem}
  Insb. sind die Ideale $\ppp_i$ unabh. von der Primärzerlegung.
\end{bem}

\begin{defn}
  Die Ideale $\ppp_i$ heißen die zu $\aaa$ \emph{assozierten Primideale}.
\end{defn}

\begin{lem}
  Sei $\ppp$ ein zu $\aaa$ assoziiertes Primideal.
  Dann gibt es ein $x \in A$, sodass $(\aaa : x)$ ein $\ppp$-primäres Ideal ist.
\end{lem}

% 23.4. Isolierte und minimale Primideale

\begin{defn}
  Sei $A$ ein komm. Ring und $\aaa \subseteq A$ ein Ideal mit minimaler Primärzerlegung $\aaa = \qqq_1 \cap \ldots \cap \qqq_n$.
  Sei $\ppp_i \coloneqq \sqrt{\qqq_i}$.
  Die minimalen Elemente der Menge der zu~$\aaa$ assoz. Primideale heißen \emph{isolierte Primideale}, alle anderen zu~$\aaa$ assoz. Primideale \emph{eingebettete Primideale}.
  Ein primäres Ideal $\qqq_i$ heißt isolierte / eingebettete \emph{Primärkomponente} von $\aaa$, wenn $\ppp_i$ isoliert / eingebettet ist.
\end{defn}

\begin{prop}
  Sei $\aaa \subseteq A$ ein zerlegbares Primideal. \\
  Jedes Primideal $\ppp$ mit $\ppp \supseteq \aaa$ enthält ein assoziiertes (und damit auch ein isoliertes) Primideal zu~$\aaa$.
\end{prop}

\begin{kor}
  Die isolierten Primideale zu~$\aaa$ sind genau die min. Elemente von $\{ \text{ Primideale $\ppp \subset A$ mit $\ppp \supseteq \aaa$ } \} \cong \{ \text{ Primideale in $A/\aaa$ } \}$.
\end{kor}

% 24. Primärzerlegung II

% 24.1. Primärzerlegung und das Nullideal

\begin{prop}
  Sei $\aaa \subseteq A$ ein Ideal mit min. Primärzerl. $\aaa = \qqq_1 \cap \ldots \cap \qqq_n$. \\
  Sei $\ppp_i = \sqrt{\qqq_i}$.
  Dann gilt $\bigcup_{i=1}^n \ppp_i = \Set{x \in A}{(a : x) \neq \aaa}$.
\end{prop}

\begin{prop}
  Sei $A$ ein komm. Ring, in dem $(0)$ zerlegbar ist.
  Dann gilt:
  \begin{itemize}
    \item Die Menge $D$ der Nullteiler in~$A$ ist die Vereinigung der zu $(0)$ assoziierten Primideale.
    \item Die Menge der nilpotenten Elemente ist der Schnitt aller (isolierten) Primideale, die zu $(0)$ assoziiert sind.
  \end{itemize}
\end{prop}

% 24.2. Primäre Ideale und Lokalisierung

\begin{prop}
  Sei $\ppp \subset A$ ein Primideal, $\qqq$ ein $\ppp$-primäres Ideal und $S \subseteq A$ multiplikativ abgeschlossen.
  Dann gilt:
  \begin{itemize}
    \item Ist $S \cap \ppp \neq \emptyset$, so folgt $S^{-1} \qqq = (1)$.
    \item Ist $S \cap \ppp = \emptyset$, so ist $S^{-1} \qqq$ ein $S^{-1} \ppp$-primäres Ideal und es gilt $A \cap S^{-1} \qqq = \qqq$.
  \end{itemize}
\end{prop}

\begin{kor}
  Sei $A$ ein komm. Ring und $S \subseteq A$ multiplikativ abgeschlossen. \\
  Dann ist folgende Korrespondenz bijektiv und monoton:
  \[
    \begin{array}{r c l}
      \{ \text{ $\qqq \subset A$ primär mit $\sqrt{\qqq} \cap S = \emptyset$ } \} & \leftrightarrow & \{ \text{ $\rrr \subset S^{-1} A$ primär } \} \\
      \qqq & \mapsto & S^{-1} \qqq \\
      A \cap \rrr & \mapsfrom & \rrr
    \end{array}
  \]
\end{kor}

% 24.3. Sättigung eines Ideals

\begin{defn}
  Sei $A$ ein komm. Ring und $S \subseteq A$ mult. abgeschlossen.
  Die \emph{Sättigung} eines Ideals $\aaa \subseteq A$ bzgl. $S$ ist das Ideal $S(\aaa) \coloneqq A \cap S^{-1} \aaa$.
\end{defn}

\begin{prop}
  Sei $A$ ein komm. Ring und $S \subseteq A$ mult. abgeschlossen. \\
  Sei $\aaa \subseteq A$ ein Ideal mit minimaler Primärzerlegung $\aaa = \qqq_1 \cap \ldots \cap \qqq_n$. \\
  Sei $\ppp_i = \sqrt{\qqq_i}$.
  Seien die $\qqq_i$ so sortiert, dass ein $m$ existiert mit $S \cap \ppp_i = \emptyset \iff i \leq m$.
  Dann sind $S^{-1} \aaa = S^{-1} \qqq_1 \cap \ldots \cap S^{-1} \qqq_m$ und $S(\aaa) = \qqq_1 \cap \ldots \cap \qqq_n$ minimale Primärzerlegungen.
\end{prop}

\begin{defn}
  Sei $\aaa \subseteq A$ ein zerlegbares Ideal in einem kommutativen Ring. \\
  Eine Menge $\mathfrak{S}$ von zu $\aaa$ assoz. Primidealen heißt \emph{isoliert}, falls gilt:
  \[
    \ppp' \subseteq \ppp \in \mathfrak{S} \implies \ppp' \in \mathfrak{S}
    \quad \text{für zu $\aaa$ assoz. Ideale $\ppp, \ppp'$.}
  \]
\end{defn}

\begin{prop}
  Sei $\mathfrak{S}$ eine isolierte Menge von zu $\aaa$ assoziierten Primidealen.
  Dann ist $S \coloneqq A \setminus \bigcup_{\ppp \in \mathfrak{S}} \ppp$ multiplikativ abgeschlossen und für jedes an $\aaa$ assoziierte Primideal $\ppp'$ gilt: $\ppp' \in \mathfrak{S} \iff \ppp' \cap S = \emptyset$.
\end{prop}

\begin{satz}[zweiter Eindeutigkeitssatz]
  Sei $\aaa \subseteq A$ ein Ideal mit minimaler Primärzerlegung $\aaa = \qqq_1 \cap \ldots \cap \qqq_n$.
  Sei $\ppp_i = \sqrt{\qqq_i}$.
  Ist $\{ \ppp_1, \ldots, \ppp_m \}$ eine isolierte Menge von zu $\aaa$ assoziierten Primidealen, so ist $\qqq_1 \cap \ldots \cap \qqq_m$ unabhängig von der Zerlegung.
\end{satz}

Für $m=1$ folgt:

\begin{kor}
  Die isolierten Primärkomp. von $\aaa$ sind eindeutig bestimmt.
\end{kor}

% V. Ganzheit und Bewertungen
\section{Ganzheit}

% 25. Ganzheit

% 25.1. Ganze Elemente

\begin{defn}
  Sei $B$ ein komm. Ring und $A \subseteq B$ ein Unterring.
  Ein Element $x \in B$ heißt \emph{ganz} über $A$, falls $x$ eine Gleichung der Form $x^n + a_1 x^{n-1} + \ldots + a_n = 0$ mit $a_i \in A$ erfüllt.
\end{defn}

\begin{prop}
  Sei $A \subseteq B$ eine Erw. komm. Ringe.
  Es sind äquivalent:
  \begin{itemize}
    \item $x$ ist ganz über $A$.
    \item $A[x] \subseteq B$ ist als $A$-Modul endlich erzeugt.
    \item Es existiert ein Unterring $C \subseteq B$ mit $C \supseteq A[x]$, der als $A$-Modul endlich erzeugt ist.
    \item Es ex. ein treuer $A[x]$-Modul $M$, der als $A$-Modul endl. erz. ist.
  \end{itemize}
\end{prop}

\begin{kor}
  Sei $A \subseteq B$ eine Erw. komm. Ringe.
  \begin{itemize}
    \item Seien $x_1, \ldots, x_n \in B$ jeweils ganz über~$A$.
    Dann ist $A[x_1, \ldots, x_n]$ ein endlich erzeugter $A$-Modul.
    \item Die Menge $C \coloneqq \{ \text{ über $A$ ganze Elemente $x \in B$} \} \subseteq B$ ist ein Unterring von $B$ mit $C \supseteq A$.
  \end{itemize}
\end{kor}

% 25.2. Ganzheit

\begin{defn}
  \begin{minipage}[t]{0.88 \linewidth}
    Die Menge $C \subseteq B$ heißt \emph{ganzer Abschluss} von $A$ in $B$. \\
    Ist $C = A$, so heißt $A$ \emph{ganz abgeschlossen} in $B$. \\
    Ist $C = B$, so heißt $B$ \emph{ganz über} $A$.
  \end{minipage}
\end{defn}

\begin{bsp}
  $\Z$ ist in $\Q$ ganz abgeschlossen.
\end{bsp}

\begin{defn}
  Sei $\phi : A \to B$ ein Mor. komm. Ringe.
  (Dadurch wird $B$ zu einer $A$-Algebra.)
  Dann heißt $\phi$ ganz und $B$ eine \emph{ganze $A$-Algebra}, falls $B$ ganz über $\phi(A) \subseteq B$ ist.
\end{defn}

\begin{lem}
  Für eine $A$-Algebra $B$ gilt:
  \[
    B \text{ endlich} \iff B \text{ endlich erz. } \wedge B \text{ ganz}
    \quad \text{(jeweils als $A$-Algebra)}.
  \]
\end{lem}

\begin{kor}
  Seien $A \subseteq B \subseteq C$ Erweiterungen kommutativer Ringe. \\
  Ist $B$ ganz über $A$ und $C$ ganz über $B$, so ist auch $C$ ganz über $A$.
\end{kor}

\begin{kor}
  Der ganze Abschluss von $A$ in $B$ ist in $B$ ganz abgeschlossen.
\end{kor}

\begin{prop}
  Sei $A \subseteq B$ eine ganze Erweiterung komm. Ringe.
  Dann gilt:
  \begin{itemize}
    \item Für jedes Ideal $\bbb \subseteq B$ ist $B/\bbb$ ganz über $A / (A \cap \bbb)$.
    \item Für jede mult. abg. Teilmenge $S \subseteq A$ ist $S^{-1} B$ ganz über $S^{-1} A$.
  \end{itemize}
\end{prop}

% 25.3. Noethersche Normalisierung

\begin{prop}[\emph{Noethernormalisierung}]
  Sei $K$ ein Körper und $\aaa$ ein Ideal in $A \coloneqq K[x_1, \ldots, x_n]$.
  Dann gibt es algebraisch unabhängige Elemente $y_1, \ldots, y_n \in A$, sodass $A$ ganz über $B \coloneqq K[y_1, \ldots, y_n]$ ist, und ein $0 \leq r \leq n$ mit $B \cap \aaa = (y_{r+1}, \ldots, y_n)$.
\end{prop}

\begin{proof}
  Per Ind. über $n$. Der Fall $n=0$ ist trivial. Sei nun $n > 0$.
  \begin{itemize}
    \item Falls $\aaa = (0)$, so setze $y_1 = x_1$, \ldots, $y_n = x_n$ und $r \coloneqq n$.
    \item Ansonsten wähle ein Polynom $f = \sum_{\alpha \in M} \lambda_\alpha x^\alpha \in \aaa \setminus \{ 0 \}$, wobei $M \subset \N^n$ endlich ist mit $\lambda_\alpha \in K^{\times}$ für alle $\alpha \in M$.
    \item Wähle $w_1, \ldots, w_{n-1} \in \N$ und $w_n \coloneqq 1$, sodass die Abbildung
    \[
      w : M \to \N, \quad
      \alpha \mapsto \alpha \cdot w \coloneqq \alpha_1 w_1 + \ldots + \alpha_n w_n
    \]
    injektiv ist.
    (Dies kann man etwa erreichen, indem man die Tupel in $M$ als Zahlen in einem Stellenwertsystem mit genügend großer Basis $b \coloneqq 1 + \max_{\alpha \in M} \enspace \max_{i = 1, \ldots, n} \alpha_i$ ansieht und $w_i \coloneqq b^{n-i}$ setzt.)
    \item Setze $z_i = x_i - x_n^{w_i}$ für $i = 1, \ldots, n-1$ und $A' \coloneqq K[z_1, \ldots, z_{n-1}]$.
    \item Dann kann man $f$ im Polynomring $K[z_1, \ldots, z_{n-1}, x_n] = A'[x_n]$,
    \[
      f = \sum_{\alpha \in M} \lambda_\alpha (z_1 + x_n^{w_1})^{\alpha_1} \cdot \ldots \cdot (z_{n-1} + x_{n-1}^{w_{n-1}})^{\alpha_{n-1}} \cdot x_n^{\alpha_n},
    \]
     auch schreiben als $f = \lambda_\beta \cdot x_n^{m} + \mu_1 \cdot x_n^{m - 1} + \ldots + \mu_{m}$, wobei $\beta \coloneqq \argmax_{ \alpha \in M} w(\alpha)$, $m \coloneqq w(\beta)$ und $\mu_i \in K[z_1, \ldots, z_{n-1}]$. \\
     Somit sind $x_n$ und alle weiteren $x_i$, also $A$, ganz über $A'[f]$.
     \item Setze $y_n \coloneqq f$.
     Die IH, angewendet auf $A' \coloneqq K[z_1, \ldots, z_{n-1}]$, liefert algebraisch unabhängige $y_1, \ldots, y_{n-1} \in A' \subset A$ mit $A'$ ganz über $B' \coloneqq K[y_1, \ldots, y_{n-1}]$ und $0 \leq r \leq n-1$ mit $B' \cap \aaa = (y_{r+1}, \ldots, y_{n-1})$.
     Dann sind $B = B'[y_n] \subseteq A'[y_n] \subseteq A$ ganze Körpererweiterungen und $B \cap \aaa = (y_{r+1}, \ldots, y_n)$. \qedhere
  \end{itemize}
\end{proof}

\begin{bem}
  Insbesondere ist $K[y_1, \ldots, y_r] \to A/\aaa$ ein endlicher injektiver Homomorphismus von $K$-Algebren.
\end{bem}

% 26. Erster Cohen–Seidenbergscher Satz
\subsection{Die Cohen-Seidenbergsche Sätze}

% 26.1. Körpererweiterungen

\begin{prop}
  Sei $A \subseteq B$ eine ganze Erweiterung von Integritätsbereichen. \\
  Dann ist $B$ genau dann ein Körper, wenn $A$ ein Körper ist.
\end{prop}

\begin{prop}
  Sei $A \subseteq B$ eine ganze Erweiterung komm. Ringe.
  Dann gilt:
  \begin{itemize}
    \item Ein Primideal $\qqq \subset B$ ist maximal $\iff$ $A \cap \qqq \subset A$ ist maximal.
    % 26.2. Primideale in ganzen Erweiterungen
    \item Für Primideale $\qqq \subseteq \qqq' \subseteq B$ gilt $A \cap \qqq = A \cap \qqq' \iff \qqq = \qqq'$.
    \item Für jedes Primideal $\ppp \subset A$ ex. ein Primideal $\qqq \subset B$ mit $A \cap \qqq = \ppp$.
  \end{itemize}
\end{prop}

\begin{satz}["`\emph{Going up}"']
  Sei $A \subseteq B$ eine ganze Erw. komm. Ringe. \\
  Sei $\ppp_1 \subsetneq \nldots \subsetneq \ppp_n$ eine Kette von Primidealen in $A$ und $\qqq_1 \subset B$ ein Primideal mit $A \cap \qqq_1 = \ppp_1$.
  Dann gibt es eine Kette $\qqq_1 \subsetneq \ldots \subsetneq \qqq_n$ von Primidealen in $B$ mit $A \cap \qqq_i = \ppp_i$ für $i = 1, \ldots, n$.
\end{satz}

% 27. Der zweite Cohen-Seidenbergsche Satz

% 27.1. Ganz abgeschlossene Integritätsbereiche

\begin{prop}
  Sei $A \subseteq B$ eine Erweiterung komm. Ringe,
  $C$ der ganze Abschluss von $A$ in $B$ und
  $S \subseteq A$ multiplikativ abgeschlossen. \\
  Dann ist $S^{-1} C$ der ganze Abschluss von $S^{-1} A$ in $S^{-1} C$.
\end{prop}

\begin{defn}
  Ein Integritätsbereich heißt \emph{ganz abgeschlossen}, falls er in seinem Quotientenkörper ganz abgeschlossen ist.
\end{defn}

\begin{bspe}
  $\Z$ und $K[x_1, \ldots, x_n]$ sind ganz abgeschlossen
\end{bspe}

\begin{prop}
  Sei $A$ ein Integritätsbereich.
  Dann sind äquivalent:
  \begin{itemize}
    \item $A$ ist ganz abgeschlossen.
    \item Für jedes Primideal $\ppp \subset A$ ist $A_\ppp$ ganz abgeschlossen.
    \item Für jedes maximale Ideal $\mmm \subset A$ ist $A_\mmm$ ganz abgeschlossen.
  \end{itemize}
\end{prop}

% 27.2. Ganzheit über Idealen

\begin{defn}
  Sei $A \subseteq B$ eine Erweiterung komm. Ringe und $\aaa \subseteq A$ ein Ideal.
  \begin{itemize}
    \item Ein Element $x \in B$ heißt \emph{ganz} über $\aaa$, falls $x$ eine Gleichung der Form $x^n + a_1 x^{n-1} + \ldots + a_n = 0$ mit $a_i \in \aaa$ erfüllt.
    \item Der \emph{ganze Abschluss} von $\aaa$ in $B$ ist $\Set{x \in B}{\text{$x$ ist ganz über $\aaa$}}$.
  \end{itemize}
\end{defn}

\begin{lem}
  Sei $A \subseteq B$ eine Erweiterung kommutativer Ringe, $\aaa \subset A$ ein Ideal und $C$ der ganze Abschluss von $A$ in $B$.
  Dann ist $\sqrt{C \aaa}$ der ganze Abschluss von $\aaa$ in $B$.
\end{lem}

\begin{defn}
  Sei $K \subseteq L$ eine Körpererweiterung.
  Ein Element $x \in L$ heißt \emph{algebraisch}, wenn es ganz über $K$ ist.
\end{defn}

\begin{prop}
  Sei $A \subseteq B$ eine Erweiterung von Integritätsbereichen.
  Sei $A$ ganz abgeschlossen mit Quotientenkörper $K$.
  Sei $x \in B$ ganz über einem Ideal $\aaa \subseteq A$.
  Dann ist $x$ algebraisch über $K$ und für sein Minimalpolynom $f \in K[t]$ gilt $f \in \sqrt{\aaa}[t]$.
\end{prop}

% TODO: Häh, wie kann das sein, das Minimalpolynom hat doch den Koeffizienten 1 vor dem führenden x^n???
% Definition von Minimalpolynom

% 27.3. Der zweite Cohen-Seidenbergsche Satz

\begin{satz}["`\emph{Going down}"']
  Sei $A \subseteq B$ eine ganze Erw. von Integritäts- bereichen und $A$ ganz abgeschlossen.
  Sei $\ppp_1 \supsetneq \nldots \supsetneq \ppp_n$ eine Kette von Primidealen in $A$ und $\qqq_1 \subset B$ ein Primideal mit $A \cap \qqq_1 = \ppp_1$. \\
  Dann gibt es eine Kette $\qqq_1 \supsetneq \ldots \supsetneq \qqq_n$ von Primidealen in $B$ mit $A \cap \qqq_i = \ppp_i$ für $i = 1, \ldots, n$.
\end{satz}

\begin{prop}
  Sei $A$ ein ganz abgeschl. Integritätsbereich mit Quotienten- körper $K$.
  Sei $L \supseteq K$ eine endliche, separable Körpererweiterung und $B$ der ganze Abschluss von $A$ in $L$.
  Dann ex. eine Basis $v_1, \ldots, v_n$ von $L$ über $K$, sodass $B \subseteq A v_1 + \ldots + A v_n$.
\end{prop}

% TODO: Seperabilität, Endlichkeit von Körpererweiterungen definieren

% 28. Bewertungsringe
\subsection{Bewertungsringe}

% 28.1. Definition und erste Eigenschaften von Bewertungsringen

\begin{defn}
  Ein Integritätsbereich $B$ mit Quotientenkörper $K$ heißt \emph{Bewertungsbereich} für $K$, falls gilt: $\fa{x \in K^{\times}} x \in B \vee x^{-1} \in B$.
\end{defn}

\begin{prop}
  Sei $B$ ein Bewertungsring.
  Dann gilt:
  \begin{itemize}
    \item $B$ ist ein lokaler Ring mit maximalem Ideal $\mmm \coloneqq B \setminus B^{\times}$.
    \item $B$ ist ganz abgeschlossen.
  \end{itemize}
\end{prop}

% 28.2. Existenz von Bewertungsringen

\begin{satz}
  Sei $K$ ein Körper, $L \supset K$ ein algebraisch abgeschlossener Körper und $B \subseteq K$ ein Unterring.
  Sei $\phi : B \to L$ ein nicht in $K$ fortsetzbarer Ringhomomorphismus, \dh{} ist $\hat{\phi} : B' \to L$ ein Ringhomomorphismus definiert auf einem Unterring $B' \subseteq K$ mit $B' \supseteq B$ mit $\hat{\phi}|_{B} = \phi$, so gilt $B = B'$.
  Dann gilt:
  \begin{itemize}
    \item $B$ ist ein lokaler Ring mit max. Ideal $\mmm = \ker \phi$.
    \item Sei $x \in K^{\times}$.
    Dann gilt $\mmm[x] \neq B[x]$ oder $\mmm[x^{-1}] \neq B[x^{-1}]$.
    \item $B$ ist ein Bewertungsring für $K$.
  \end{itemize}
\end{satz}

\begin{kor}
  Sei $A \subseteq K$ ein Unterring eines Körpers.
  Dann ist der ganze Abschluss $\overline{A}$ von~$A$ in~$K$ der Schnitt aller Bewertungsringe~$B$ von~$K$ mit~$B \supseteq A$.
\end{kor}

\begin{prop}
  Sei $A \subseteq B$ eine endlich erzeugte Erweiterung von Integritätsbereichen.
  Sei $v \in B \setminus \{ 0 \}$.
  Dann existiert ein $u \in A \setminus \{ 0 \}$ mit folgender Eigenschaft:
  Jeder Homomorphismus $\phi : A \to L$ in einen algebraisch abgeschlossenen Körper $L$ mit $\phi(u) \neq 0$ kann zu einem Homomorphismus $\psi : B \to L$ mit $\psi(v) \neq 0$ fortgesetzt werden.
\end{prop}

% TODO: definieren: endliche algebraische Erweiterung

\begin{kor}
  Ist eine endlich erzeugte $K$-Algebra $B$ ein Körper, so ist $B$ eine endliche algebraische Erweiterung von $K$.
\end{kor}

\begin{kor}[Schwacher Hilbertscher Nullstellensatz]
  Ist $\mmm$ ein max. Ideal einer endl. erz. $K$-Algebra~$A$, so ist $A/\mmm$ eine endl. alg. Erweiterung von~$K$.
  Insb. ist $A/\mmm \cong K$, falls $K$ algebraisch abgeschlossen ist.
\end{kor}

% VI. Kettenbedingungen
\section{Kettenbedingungen}

% 29. Kettenbedingungen I

% 29.1. Kettenbedingungen

\begin{prop}
  Sei $X$ eine teilweise geordnete Menge.
  Dann sind äquivalent:
  \begin{itemize}
    \item Jede aufsteigende Folge $x_1 \leq x_2 \leq \ldots$ in $X$ ist \emph{stationär}, \dh{} es existiert ein $N \in \N$ mit $x_n = x_N$ für alle $n \geq N$.
    \item Jede nicht leere Teilmenge $A \subseteq X$ besitzt ein maximales Element, \dh{} $\ex{a \in A} \fa{b \in A} a \leq b \implies a = b$.
  \end{itemize}
\end{prop}

\begin{defn}
  Sei $A$ ein Ring und $M$ ein $A$-Modul.
  \begin{itemize}
    \item Ist jede bzgl. der Inklusion aufsteigende Folge $N_1 \subseteq N_2 \subseteq \ldots$ von Untermoduln von $N$ stationär, so heißt $M$ \emph{noethersch}.
    \item Ist jede bzgl. der Inklusion absteigende Folge $N_1 \supseteq N_2 \supseteq \ldots$ von Untermoduln von $N$ stationär, so heißt $M$ \emph{artinsch}.
  \end{itemize}
\end{defn}

\begin{bspe}
  \begin{minipage}[t]{0.88 \linewidth}
    \begin{tabular}[t]{l | l | l | l}
      $A$ & $M$ & noethersch? & artinsch? \\ \hline
      $\Z$ & irgendeine endl. Gruppe & \cmark & \cmark \\
      $\Z$ & $\Set{x \in \Q/\Z}{\ord(x) = p^n}$ & \xmark & \cmark \\
      & mit $p$ prim & & \\
      $\Z$ & $\Set{\tfrac{a}{b} \in \Q \text{ gekürzt}}{b = p^n}$ & \xmark & \xmark
    \end{tabular}
  \end{minipage}
\end{bspe}

\begin{prop}
  Sei $A$ ein Ring.
  Ein $A$-Modul $M$ ist genau dann noethersch, wenn alle seine Untermodule endlich erzeugt sind.
\end{prop}

\begin{prop}
  Sei $A$ ein Ring und $0 \to M' \to M \to M'' \to 0$ eine kurze exakte Sequenz von $A$-Moduln.
  Dann gilt:
  \begin{itemize}
    \item $M$ noethersch $\iff$ $M'$, $M''$ noethersch
    \item $M$ artinsch $\iff$ $M'$, $M''$ artinsch
  \end{itemize}
\end{prop}

\begin{kor}
  Die endliche direkte Summe von noetherschen/artinschen $A$-Moduln ist noethersch/artinsch.
\end{kor}

% 29.2. Noethersche und Artinsche Ringe

\begin{defn}
  Ein Ring $A$ heißt \emph{noethersch}/\emph{artinsch}, falls er als Modul über sich selbst noethersch/artinsch ist.
\end{defn}

\begin{bem}
  Ein Ring ist genau dann noethersch/artinsch, wenn die Menge seiner Ideale die aufsteigende/absteigende Kettenbedingung erfüllt.
  Ein Ring ist genau dann noethersch, wenn all seine Ideale endlich erzeugt sind.
\end{bem}

\begin{bspe}
  \begin{minipage}[t]{0.88 \linewidth}
    \begin{tabular}[t]{l | l | l}
      $A$ & noethersch? & artinsch? \\ \hline
      $\Z$ & \cmark & \xmark \\
      ein endl. Ring & \cmark & \cmark \\
      ein bel. HIR & \cmark & ? \\
      $K[x]$ & \cmark & \xmark \\
      $K[x_1, x_2, \ldots]$ & \xmark & \xmark
    \end{tabular}
  \end{minipage}
\end{bspe}

\begin{acht}
  Unterringe von noetherschen Ringen sind nicht unbedingt noethersch.
\end{acht}

\begin{prop}
  Ist $A$ ein noetherscher Ring und $M$ ein endlich erzeugter $A$-Modul, so ist $M$ noethersch.
\end{prop}

% 30. Kettenbedingungen II

% 30.1. Kompositionsreihe und Länge eines Moduls

\begin{defn}
  Sei $A$ ein Ring und $M$ ein $A$-Modul.
  \begin{itemize}
    \item Eine \emph{Untermodulkette} von $M$ der Länge $n$ ist eine Kette von Untermoduln der Form $M_\bullet : M = M_0 \supsetneq M_1 \supsetneq \ldots \supsetneq M_n = 0$.
    \item $M$ heißt \emph{einfach}, falls $M$ nur $0$ und $M$ als Untermoduln besitzt.
    \item Eine Untermodulkette heißt \emph{Kompositionsreihe}, wenn die Quotienten $M_i/M_{i+1}$ jeweils einfach sind.
    \item Die \emph{Länge} $\len(M) \in \N \cup \{ \infty \}$ von $M$ ist das Infimum aller Längen von Kompositionsreihen von $M$.
  \end{itemize}
\end{defn}

\begin{prop}
  Sei $A$ ein Ring und $M$ ein $A$-Modul der Länge $n \coloneqq \len(M) < \infty$.
  Dann gilt:
  \begin{itemize}
    \item Für jeden echten Untermodul $N \subsetneq M$ gilt $\len(N) < \len(M)$.
    \item Die Länge jeder Untermodulkette in $M$ ist $\leq \len(M)$.
    \item Jede Kompositionsreihe von $M$ hat die Länge $n$.
    \item Jede Untermodulkette von $M$ lässt sich zu einer Kompositionsreihe erweitern.
  \end{itemize}
\end{prop}

% 30.2. Moduln endlicher Länge

\begin{prop}
  Sei $A$ ein kommutativer Ring.
  Ein $A$-Modul $M$ besitzt genau dann eine Kompositionsreihe, wenn $M$ noethersch und artinsch ist.
\end{prop}

\begin{defn}
  Ein $A$-Modul $M$ heißt \emph{von endlicher Länge}, wenn $M$ noethersch und artinsch ist.
\end{defn}

\begin{prop}
  Sei $A$ ein Ring.
  Die Länge ist eine additive Funktion auf $\SC \coloneqq \{ \text{ $A$-Moduln endlicher Länge } \}$.
\end{prop}

\begin{satz}[Jordan-Hölder]
  Sind $M_\bullet$ und $M'_\bullet$ zwei Kompositionsreihen eines $A$-Moduls $M$ endlicher Länge $n$, so existiert eine Permutation $\sigma \in S_n$ mit $M_{i-1}/M_i \cong M'_{\sigma(i-1)}/M'_{\sigma(i)}$.
\end{satz}

\begin{prop}
  Für einen VR $V$ über einem Körper $K$ sind äquivalent:
  \begin{itemize}
    \miniitem{0.5 \linewidth}{$V$ ist endlich-dimensional.}
    \miniitem{0.4 \linewidth}{$V$ ist noethersch.}
    \miniitem{0.5 \linewidth}{$V$ ist von endlicher Länge.}
    \miniitem{0.4 \linewidth}{$V$ ist artinsch.}
  \end{itemize}
\end{prop}

\begin{kor}
  Seien $\mmm_1, \ldots, \mmm_n$ maximale Ideale in einem kommutativen Ring mit $(0) = \mmm_1 \cdot \ldots \cdot \mmm_n$.
  Dann ist $A$ genau dann noethersch, wenn $A$ artinsch ist.
\end{kor}

% VII. Noethersche Ringe
\subsection{Noethersche Ringe}

% 31. Noethersche Ringe

% 31.1. Elementare Eigenschaften noetherscher Ringe

% nach hinten gezogen
\begin{prop}
  Der Quotient $A / \aaa$ eines noetherschen Rings $A$ ist noethersch.
\end{prop}

\begin{kor}
  Sei $\phi : A \to B$ ein Ringhomo.
  Ist $A$ noethersch, so auch $\phi(A)$.
\end{kor}

\begin{prop}
  Sei $A \subseteq B$ eine endliche Erweiterung kommutativer Ringe.
  Ist $A$ noethersch, so auch $B$.
\end{prop}

\begin{bsp}
  $\Z[i]$ ist noethersch als endl. Erw. von $\Z$
\end{bsp}

\begin{prop}
  Sei $A$ ein kommutativer noetherscher Ring und $S \subseteq A$ multiplikativ abgeschlossen.
  Dann ist $S^{-1} A$ noethersch.
\end{prop}

\begin{kor}
  Die Halme $A_\ppp$ eines komm. noeth. Rings $A$ sind noethersch.
\end{kor}

% 31.2. Der Hilbertsche Basissatz

\begin{satz}[\emph{Hilbertscher Basissatz}]
  Ist $A$ ein noetherscher kommutativer Ring, so ist auch der Polynomring $A[x]$ noethersch.
\end{satz}

\begin{kor}
  Ist $A$ ein noetherscher kommutativer Ring, so ist auch der Polynomring $A[x_1, \ldots, x_n]$ noethersch.
  Allgemeiner ist jede endlich erzeugte $A$-Algebra noethersch.
\end{kor}

\begin{prop}
  Seien $A \subseteq B \subseteq C$ Erweiterungen von kommutativen Ringen.
  Sei $A$ noethersch.
  Sei $C$ endlich erzeugt als $A$-Algebra und endlich als $B$-Algebra.
  Dann ist $B$ endlich erzeugt als $A$-Algebra.
\end{prop}

% 32. Primärzerlegung in noetherschen Ringen

% 32.1. Irreduzible Ideale

\begin{defn}
  Sei $A$ ein komm. Ring.
  Ein Ideal $\aaa \subseteq A$ heißt \emph{irreduzibel}, falls für je zwei Ideale $\bbb, \ccc \subseteq A$ gilt: \enspace
  Ist $\aaa = \bbb \cap \ccc$, so gilt $\aaa \in \{ \bbb, \ccc \}$.
\end{defn}

\begin{prop}
  Sei $A$ ein noetherscher kommutativer Ring.
  Dann gilt:
  \begin{itemize}
    \item Jedes Ideal von~$A$ ist Schnitt von endlich vielen irred. Idealen.
    \item Jedes irreduzible Ideal von~$A$ ist ein Primärideal.
    % 32.2. Existenz der Primärzerlegung in noetherschen Ringen
    \item Folglich ist in~$A$ jedes Ideal zerlegbar.
    \item Jedes Ideal $\aaa \subseteq A$ enthält eine Potenz $(\sqrt{\aaa})^n$ seines Wurzelideals.
    \item Insbesondere ist $\sqrt{(0)} \subseteq A$ nilpotent.
    \item Für ein max. Ideal $\mmm \subset A$ und ein Ideal $\qqq \subseteq A$ sind äquivalent:
    \begin{itemize}
      \miniitem{0.46 \linewidth}{$\qqq$ ist ein $\mmm$-primäres Ideal.}
      \miniitem{0.18 \linewidth}{$\sqrt{\qqq} = \mmm$}
      \miniitem{0.33 \linewidth}{$\ex{n \!\in\! \N\!}\! \mmm^n \subseteq \qqq \!\subseteq\! \mmm$}
    \end{itemize}
    \item Die zu einem Ideal $\aaa \subseteq A$ assoziierten Ideale sind genau die Primideale von~$A$ der Form $(\aaa : x)$ mit $x \in A$.
  \end{itemize}
\end{prop}

% VIII. Artinsche Ringe
\subsection{Artinsche Ringe}

% 33. Artinsche Ringe

% 33.1. Elementare Eigenschaften Artinscher Ringe

\begin{prop}
  Sei $A$ ein artinscher kommutativer Ring.
  Dann gilt:
  \begin{itemize}
    \item Jedes Primideal $\ppp \subset A$ ist ein maximales Ideal.
    \item Das Nilradikal ist gleich dem Jacobsonschen Ideal.
    \item $A$ besitzt nur endlich viele maximale Ideale (\dh{} $A$ ist halblokal).
    \item Das Nilradikal von $A$ ist nilpotent.
  \end{itemize}
\end{prop}

% 33.2. Der Struktursatz für artinsche kommutative Ringe

\begin{defn}
  Sei $A$ ein komm. Ring.
  Eine \emph{Primidealkette} der Länge~$n$ in~$A$ ist eine Kette $\ppp_0 \subsetneq \ppp_1 \subsetneq \ldots \subsetneq \ppp_n$ von Primidealen in $A$.
\end{defn}

\begin{defn}
  Die \emph{Dimension} $\dim A \in \{ - \infty \} \cup \N$ eines komm. Ringes $A$ ist das Supremum über die Längen aller Primidealketten in $A$.
\end{defn}

\begin{bspe}
  \inlineitem{$\dim A \geq 0 \iff A \neq 0$} \quad
  \inlineitem{$\dim K = 0$} \quad
  \inlineitem{$\dim \Z = 1$}
\end{bspe}

\begin{satz}
  Für einen kommutativen Ring $A \neq 0$ gilt:
  \[
    \text{$A$ ist artinsch} \iff \text{$A$ ist noethersch und $\dim A = 0$}
  \]
\end{satz}

\begin{bem}
  Ist $(A, \mmm)$ ein artinscher lokaler Ring, so ist~$\mmm$ das einzige Primideal von~$A$ und damit $\sqrt{(0)} = \mmm$.
  Insbesondere ist $\mmm$ nilpotent und jedes Element von~$A$ entweder nilpotent oder eine Einheit.
\end{bem}

\begin{prop}
  Sei $(A, \mmm)$ ein noetherscher lokaler Ring. \\
  Dann tritt genau einer der folgenden Fälle ein:
  \begin{itemize}
    \item Für alle $n \in \N$ ist $\mmm^n \supsetneq m^{n+1}$.
    \item Es ist $\mmm^n = (0)$ für ein $n \in \N$ und $A$ ist artinsch.
  \end{itemize}
\end{prop}

\begin{satz}[\emph{Struktursatz} für artinsche kommutative Ringe] \mbox{} \\
  Jeder artinsche kommutative Ring ist eindeutig (bis auf Isomorphie der Faktoren) ein direktes Produkt artinscher lokaler Ringe.
\end{satz}

% 33.3. Artinsche lokale Ringe

\begin{defn}
  Sei $(A, \mmm, F)$ ein lokaler Ring.
  Dann heißt der $F$-Vektorraum $\mmm / \mmm^2$ \emph{Zariskischer Kotangentialraum} von $A$.
\end{defn}

\begin{bem}
  $\mmm / \mmm^2$ ist die spezielle Faser von $\mmm$ als $A$-Modul.
  Ist $\mmm$ als $A$-Modul endlich erzeugt, so auch $\mmm / \mmm^2$ als $F$-Vektorraum.
\end{bem}

\begin{prop}
  Für einen artinschen lokalen Ring $(A, \mmm, F)$ sind äquivalent:
  \begin{itemize}
    \item Jedes Ideal in $A$ ist ein Hauptideal (also $A$ ein HIB).
    \item Das maximale Ideal $\mmm$ ist ein Hauptideal.
    \item Es gilt $\dim_F \mmm / \mmm^2 \leq 1$.
  \end{itemize}
\end{prop}

\begin{bspe}
  Artinsche lokale Ringe sind:
  \begin{itemize}
    \miniitem{0.43 \linewidth}{$\Z/(p^n)$, wobei $p$ prim ist} \quad
    \miniitem{0.52 \linewidth}{$K[x]/(f^n)$, wobei $f$ irreduzibel ist}
  \end{itemize}
\end{bspe}

% IX. Diskrete Bewertungsringe und Dedekindsche Bereiche

% 34. Diskrete Bewertungsringe
\section{Diskrete Bewertungsringe}

% 34.1. Eindimensionale noethersche Integritätsbereiche

\begin{prop}
  Sei $A$ ein eindimensionaler noetherscher Integritätsbereich.
  Dann kann jedes Ideal $0 \subsetneq \aaa \subseteq A$ eindeutig als Produkt von primären Idealen mit paarweise verschiedenen Wurzelidealen geschrieben werden.
\end{prop}

% 34.2. Diskrete Bewertungsringe

\begin{defn}
  Eine \emph{diskrete Bewertung} auf einem Körper $K$ ist eine surjektive Abbildung $\nu : K \thra \Z \cap \{ \infty \}$, für die gilt:
  \[
    \nu^{-1}(\infty) = \{ 0 \}, \quad
    \nu(xy) = \nu(x) + \nu(y), \quad
    \nu(x + y) \geq \min (\nu(x), \nu(y)).
  \]
\end{defn}

\begin{lem}
  \inlineitem{$\nu(1) = 0$} \quad
  \inlineitem{$\nu(x^{-1}) = - \nu(x)$}
\end{lem}

\begin{defn}
  Der \emph{Bewertungsring} von $K$ (zu $\nu$) ist der Unterring
  \[
    \Set{x \in K}{\nu(x) \geq 0} \subset K.
  \]
\end{defn}

\begin{lem}
  Der Bewertungsring von $K$ zu $\nu$ ist in der Tat ein solcher.
\end{lem}

\begin{defn}
  Ein Integritätsbereich $A$ heißt \emph{diskreter Bewertungsring}, falls $A$ der Bewertungsring einer diskreten Bewertung auf dem Quotientenkörper~$K$ von~$A$ ist.
\end{defn}

\begin{prop}
  Sei $A$ ein diskreter Bewertungsring mit Bewertung $\nu : K \to \Z \cup \{ \infty \}$.
  Dann gilt:
  \begin{itemize}
    \miniitem{0.45 \linewidth}{$x \in A^{\times} \iff \nu(x) = 0$}
    \miniitem{0.45 \linewidth}{$\nu(x) = \nu(y) \iff (x) = (y)$}
    \item $A$ ist ein lokaler Ring mit max. Ideal $\mmm \coloneqq \Set{x \in A}{\nu(x) > 0}$.
    \item Jedes Ideal in $A$ hat die Form $\mmm_k = \nu^{-1}([k, \infty])$ mit $k \in \N \cup \{ \infty \}$. \\
    \miniitem{0.45 \linewidth}{$A$ ist noethersch.}
    \miniitem{0.45 \linewidth}{$A$ ist eindimensional.}
    \item Jedes nichtverschwindende Ideal in $A$ ist eine Potenz von $\mmm$.
  \end{itemize}
\end{prop}

\begin{bspe}
  \begin{itemize}
    \item Sei $p$ eine Primzahl.
    Jedes $y \in \Q^{\times}$ kann man als $y = p^n \tfrac{s}{t}$ mit $p \nmid s$, $p \nmid t$ schreiben.
    Dabei ist $n \!=\! n_y \in \Z$ eindeutig festgelegt.
    Setze $\nu(x) \coloneqq n_y$ und $\nu(0) \coloneqq \infty$.
    Dann ist $\nu$ eine Bewertung auf $\Q$ mit Bewertungsring $\Z_{(p)}$.
    \item Sei $F$ ein Körper und $F(x) \coloneqq \Set{\tfrac{h}{g}}{h, g \in F[x], g \neq 0}$ der Körper der rationalen Fktn über~$F$ in~$x$.
    Sei $f \in F[x]$ irreduzibel.
    Jedes $y \in F(x)^{\times}$ kann man als $y = f^n \tfrac{h}{g}$ mit $p \nmid h$, $p \nmid g$ schreiben.
    Dabei ist $n \!=\! n_y \in \Z$ eind. festgelegt.
    Setze $\nu(x) \coloneqq n_y$ und $\nu(0) \coloneqq \infty$.
    Dann ist $\nu$ eine Bewertung auf $F(x)$ mit Bewertungsring $F[x]_{(f)}$.
  \end{itemize}
\end{bspe}

% 34.3. Charakterisierungen diskreter Bewertungsringe

\begin{prop}
  Sei $(A, \mmm, F)$ ein eindimensionaler noetherscher lokaler Integritätsbereich.
  Dann sind äquivalent:
  \begin{itemize}
    \miniitem{0.6 \linewidth}{$A$ ist ein diskreter Bewertungsring.}
    \miniitem{0.35 \linewidth}{$\mmm$ ist ein Hauptideal.}
    \miniitem{0.6 \linewidth}{$A$ ist ganz abgeschlossen.}
    \miniitem{0.35 \linewidth}{$\dim_F \mmm/\mmm^2 = 1$}
    \item Jedes (nicht verschwindende) Ideal von $A$ ist eine Potenz von $\mmm$.
    \item $\ex{x \in A} \fa{\text{Ideal } \aaa \subseteq A} \ex{n \in \N} \aaa = (x^n)$
  \end{itemize}
\end{prop}

% 36. Dedekindsche Bereiche
\section{Dedekindsche Bereiche}

% 36.1. Charakterisierung Dedekindscher Bereiche

\begin{lemdefn}
  Ein eindim. noetherscher Integritätsbereich~$A$ heißt \emph{Dedekindscher Bereich}, wenn er die folgenden äquivalenten Bedingungen erfüllt:
  \begin{itemize}
    \item $A$ ist ganz abgeschlossen.
    \item Jedes Primärideal in $A$ ist Potenz eines Primideals.
    \item Für jedes Primideal $\ppp \neq (0)$ ist $A_\ppp$ ein diskr. Bewertungsbereich.
  \end{itemize}
\end{lemdefn}

\begin{kor}
  In einem Dedekindschen Bereich lässt sich jedes Ideal $\aaa \neq (0)$ als eindeutiges Produkt von Primidealen schreiben.
\end{kor}

% 36.2. Beispiele Dedekindscher Bereiche

\begin{bsp}
  Jeder HIB ist ein Dedekindscher Bereich.
\end{bsp}

\begin{satz}
  Sei $K$ ein Zahlkörper, also eine endliche Erweiterung von~$\Q$.
  Dann ist der Ring der ganzen Zahlen in~$K$, \dh{} der ganze Abschluss von $\Z$, ein Dedekindscher Bereich.
\end{satz}

\section{Gebrochene und invertierbare Ideale}
% 37. Gebrochene Ideale

% 37.1. Gebrochene Ideale

Sei $A$ ein Integritätsbereich mit Quotientenkörper~$K$.

\begin{defn}
  Ein $A$-Untermodul $\rrr \subseteq K$ heißt \emph{gebrochenes Ideal} von $A$, falls ein $x \in A$ mit $x \rrr \subseteq A$ existiert.
\end{defn}

\begin{bspe}
  \begin{itemize}
    \item Jedes gewöhnliche Ideal ist auch ein gebrochenes Ideal.
    \item Jedes $u = \tfrac{s}{t} \in K$ erz. ein gebr. Ideal $(u) \coloneqq A u \subseteq K$, da $t (u) \subset A$.
  \end{itemize}
\end{bspe}

\begin{sprechweise}
  Zur Unterscheidung von gebrochenen Idealen werden gewöhnliche Ideale auch \emph{ganze Ideale} genannt.
\end{sprechweise}

\begin{prop}
  \begin{itemize}
    \item Ist $\rrr$ ein endlich erzeugtes Untermodul von~$K$, so ist~$\rrr$ ein gebrochenes Ideal.
    \item Ist $A$ noethersch, so ist jedes gebrochene Ideal~$\rrr$ als $A$-Modul endlich erzeugt.
  \end{itemize}
\end{prop}

% 37.2. Invertierbare Ideale

\begin{defn}
  Ein $A$-Untermodul $\rrr \subseteq K$ heißt \emph{invertierbares Ideal}, falls ein $A$-Untermodul $\sss \subseteq K$ mit $\rrr \sss = A$ existiert.
\end{defn}

\begin{nota}
  Für ein $A$-Untermodul $\rrr \subseteq K$ schreiben wir $(1 : \rrr) \coloneqq \Set{x \in K}{x \rrr \subseteq A}$.
  Dies ist ein $A$-Untermodul von $K$.
\end{nota}

\begin{prop}
  Ist $\rrr \subseteq K$ ein invertierbares Ideal, so ist $\sss = (1 : \rrr)$ das einzige $A$-Untermodul $\sss \subseteq K$ mit $\rrr \sss = A$.
\end{prop}

\begin{nota}
  In diesem Fall: \enspace
  $\rrr^{-1} \coloneqq (1 : \rrr)$
\end{nota}

\begin{prop}
  Jedes invertierbare Ideal von $A$ ist endlich erzeugt als $A$-Modul und damit insbesondere ein gebrochenes Ideal.
\end{prop}

\begin{bsp}
  Für $u \in K^{\times}$ ist $(u) \subseteq K$ invertierbar mit $(u)^{-1} = (u^{-1})$.
\end{bsp}

\begin{bem}
  Bezüglich der Multiplikation von Idealen bilden die invertierbaren Ideale von~$A$ eine Gruppe mit $e = (1)$.
\end{bem}

\begin{prop}
  Für ein gebrochenes Ideal~$\rrr$ von $A$ sind äquivalent:
  \begin{itemize}
    \item $\rrr$ ist invertierbar
    \item $\rrr$ ist endlich erzeugt und für alle Primideale $\ppp \subset A$ ist $\rrr_\ppp$ ein invertierbares Ideal von $A_\ppp$.
    \item $\rrr$ ist endlich erzeugt und für alle maximalen Ideale $\mmm \subset A$ ist $\rrr_\mmm$ ein invertierbares Ideal von $A_\mmm$.
  \end{itemize}
\end{prop}

% 37.3. Gebrochene Ideale in Dedekindschen Bereichen

\begin{prop}
  Ein lokaler Integritätsbereich, der kein Körper ist, ist genau dann ein diskreter Bewertungsring, wenn jedes nicht verschwindende gebrochene Ideal invertierbar ist.
\end{prop}

\begin{satz}
  Ein Integritätsbereich, der kein Körper ist, ist genau dann ein Dedekindscher Bereich, wenn jedes nicht verschwindende gebrochene Ideal invertierbar ist.
\end{satz}

% 37.4. Anmerkungen zur Idealklassengruppe

\begin{kor}
  In einem Dedekindschen Bereich~$A$ bilden die nicht verschwindenden gebrochenen Ideale eine abelsche Gruppe bzgl. der Multiplikation, die \emph{Idealgruppe} $I(A)$ von~$A$.
\end{kor}

\begin{bem}
  Der Satz über die eindeutige Faktorisierbarkeit eines Ideals in Primideale in einem Dedekindschen Bereich~$A$ impliziert, dass $I(A)$ von den Primidealen von~$A$ frei abelsch erzeugt wird.
\end{bem}

\begin{defn}
  Sei $A$ ein Dedekindscher Bereich mit Quotientenkörper~$K$.
\end{defn}

\begin{bem}
  Es gibt einen Gruppenhomomorphismus
  \[
    \phi : K^{\times} \to I(A), \quad x \mapsto (x),
  \]
  dessen Bild die gebrochenen Hauptideale sind.
  Dessen Kern ist
  \[
    \ker \phi = \Set{u \in K^{\times}}{(u) = 1} = A^{\times}.
  \]
\end{bem}

\begin{defn}
  $C(A) \coloneqq I(A) / \im(\phi)$ heißt \emph{Idealklassengruppe} von~$A$.
\end{defn}

\begin{bem}
  Es gibt eine exakte Sequenz
  \[
    1 \to A^{\times} = \ker(\phi) \to K^{\times} \xra{\phi} I(A) \to C(A) \to 1
  \]
  von (multiplikativ notierten) abelschen Gruppen.
\end{bem}

\begin{bem}
  Sei $K$ ein Zahlkörper und $A$ sein Ring ganzer Zahlen. \\
  Man kann dann zeigen:
  \begin{itemize}
    \item $C(A)$ ist endlich.
    Die Gruppenordnung $\ord C(A)$ heißt \textit{Klassenzahl} von $K$.
    \item $\ord C(A) = 1$ $\iff$ jedes invertierbare Ideal ist ein gebrochenes Hauptideal $\iff$ $A$ ist ein faktorieller Ring.
    \item $A^{\times}$ ist eine endlich erzeugte abelsche Gruppe.
    Die Elemente endlicher Ordnung sind genau die Einheitswurzeln $\mu(K)$ von~$K$.
    Der Rang der freien abelschen Gruppe $A^{\times} / \mu(K)$ ist $r_1 + r_2 - 1$, wobei $r_1$ die Anzahl der reellen und $2 r_2$ die Anzahl der echt komplexen Einbettungen von~$K$ in~$\C$ ist.
  \end{itemize}
\end{bem}

\begin{bspe}
  \begin{itemize}
    \item $\Q(\sqrt{-1})$ besitzt genau zwei echt komplexe Einbettungen, keine reellen.
    Für dessen Ring der ganzen Zahlen, $A = \Z[i]$, gilt damit $\ord(A^{\times} / \mu(K)) = 0$, also $A^{\times} = \mu(K) = \{ \pm 1, \pm i \}$.
    \item $\Q(\sqrt{2})$ besitzt genau zwei reelle Einbettungen, keine echt komplexen.
    Für $A = \Z[\sqrt{2}]$ gilt damit $\ord(A^{\times} / \mu(K)) = 1$. \\
    Es ist $\mu(K) = \{ \pm 1 \}$ und $A^{\times} = \Set{\pm (1 + \sqrt{2})^n}{n \in \Z}$.
  \end{itemize}
\end{bspe}

% X. Vervollständigungen
\section{Vervollständigungen}

% 38. Vervollständigungen I

% 38.1. Topologische Gruppen

\begin{defn}
  Eine \emph{topologische Gruppe} ist ein Gruppenobjekt in der Kategorie der topol. Räume, \dh{} eine Gruppe~$G$, deren zugrunde- liegende Menge eine Topologie trägt, sodass die Gruppenoperationen $G \times G \to G, \, (a, b) \mapsto ab$ und $G \to G, \, g \mapsto g^{-1}$ stetig sind.
\end{defn}

\begin{bem}
  \begin{itemize}
    \item Jede gewöhnliche Gruppe ist eine topologische mit der diskreten Topologie.
    \item Sei $G$ eine topologische Gruppe und $H \subseteq G$ ein Normalteiler.
    Dann ist $G/H$ mit der Quotiententopologie eine topol. Gruppe.
    \item Für jedes $a \in G$ ist die Verschiebung $\tau_a : G \to G, \enspace x \mapsto ax$ ein Homöomorphismus und induziert daher eine Bijektion der Umgebungen um~$e \in G$ und um~$a$.
    Die Umgebungen um $e$ definieren damit die Topologie von~$G$.
  \end{itemize}
\end{bem}

\begin{lem}
  Sei $G$ eine topologische Gruppe und $H$ der Schnitt aller (offenen) Umgebungen~$U$ von~$0$.
  Dann gilt:
  \begin{itemize}
    \miniitem{0.4 \linewidth}{$H = \clos{\{ e \}}$}
    \miniitem{0.55 \linewidth}{$H \subseteq G$ ist ein Normalteiler in $G$.}
    \miniitem{0.4 \linewidth}{$G/H$ ist hausdorffsch.}
    \miniitem{0.55 \linewidth}{$G$ ist hausdorfsch $\iff$ $H = \{ e \}$}
  \end{itemize}
\end{lem}

% 38.2. Vervollständigung topologischer Gruppen

\begin{voraussetzung}
  Sei $G$ eine topologische Gruppe, die das erste Abzählbarkeitsaxiom erfüllt, \dh{} es gibt eine Folge $U_0 \supset U_1 \supset \ldots$ von Umgebungen von $e \in G$, sodass für jede Umgebung $U$ von $e$ ein $n \in \N$ mit $U_n \subseteq U$ existiert.
\end{voraussetzung}

\begin{defn}
  Eine Folge $(g_n)_{n \in \N}$ in~$G$  heißt \emph{Cauchy-Folge}, falls für alle Umgebungen~$U$ von $e$ gilt: $\ex{N \in \N} \fa{n, m \geq N} g_n g_m^{-1} \in U$. \\
  Zwei Cauchy-Folgen $(g_n)$ und $(h_n)$ heißen äquivalent, falls
  \[
    (g_n) \sim (h_n) \coloniff g_n h_n^{-1} \xra[n \to \infty]{} 0.
  \]
\end{defn}

\begin{konstr}
  Sei $\hat{G} \coloneqq \{ \text{ Cauchy-Folgen auf $G$ } \} / {\sim}$ ist eine Gruppe mit $(h_n)_{n \in \N} \cdot (g_n)_{n \in \N} \coloneqq (h_n \cdot g_n)_{n \in \N}$ und $(g_n)_{n \in \N}^{-1} \coloneqq (g_n^{-1})_{n \in \N}$.
  Für eine offene Umgebung $U \ni e \in G$ sei
  \[
    \hat{U} \coloneqq \Set{\text{Cauchy-Folgen } (g_n)_{n \in \N}}{\ex{N \in \N} \fa{n \geq N} g_n \in U}.
  \]
\end{konstr}

\emph{TODO: Topologie auf $\hat{G}$ konstruieren!}

\begin{defn}
  $\hat{G}$ heißt \emph{Vervollständigung} von $G$.
\end{defn}

\begin{bem}
  Die Abbildung $\phi : G \to \hat{G}, \enspace g \mapsto (g)_{n \in \N}$ ist stetig und $\im(\phi)$ liegt dicht in $\hat{G}$.
\end{bem}

\begin{lem}
  $\ker(\phi) = \clos{\{ e \}}$
\end{lem}

\begin{kor}
  $\phi$ injektiv $\iff$ $G$ ist hausdorffsch
\end{kor}

\begin{bem}
  Sei $\rho \!:\! G \to H$ ein stetiger Homomor. topol. Gruppen.
  Dann ist
  \[
    \hat{\rho} : \hat{G} \to \hat{H}, \quad
    [(g_n)_{n \in \N}] \mapsto [(\rho(g_n))_{n \in \N}]
  \]
  ein wohldefinierter, stetiger Homomor. zw. den Vervollständigungen.
  Auf diese Weise wird Vervollständigung zu einem Funktor
  \[
    \widehat{\enspace} : \TopGrp \to \ComplTopGrp.
  \]
\end{bem}

% 38.3. Inverse Limiten
\subsection{Inverse Limiten}

\begin{defn}
  Eine Seqenz von Gruppen und Gruppenhomomor. der Form
  \[
    A_\bullet : \ldots \xra{\theta_3} A_2 \xra{\theta_2} A_1 \xra{\theta_1} A_0
  \]
  heißt ein \emph{inverses System} von Gruppen.
\end{defn}

\begin{bem}
  Ein inverses System ist ein Funktor $\N^\op \to \Grp$.
  Ein Morphismus inverser Systeme ist eine natürliche Transformation.
\end{bem}

\begin{defn}
  Sei $A_\bullet$ ein inverses System von Gruppen.
  Eine Folge $(\xi_n \in A_n)_{n \in \N}$ heißt \emph{kohärent} in $A_\bullet$, falls $\theta_n(\xi_n) = \xi_{n-1}$ $\forall \, n \in \N$.
\end{defn}

\begin{prop}
  Sei $A_\bullet$ ein inverses System von Gruppen.
  Dann existiert der Limes $\varprojlim_{n} A_n$ von $A_\bullet$.
\end{prop}

\begin{defn}
  Dieser Limes heißt \emph{inverser Limes} von $A_\bullet$.
\end{defn}

\begin{konstr}
  Sei $C$ die Menge der kohärenten Folgen in $A_\bullet$. \\
  Dann ist $C$ eine Gruppe vermöge
  \[
    (\xi_n \in A_n)_{n \in \N} + (\eta_n \in A_n)_{n \in \N} \coloneqq (\xi_n \cdot \eta_n \in A_n)_{n \in \N}
  \]
  und $C$ erfüllt die geforderte universelle Eigenschaft.
\end{konstr}

\begin{bem}
  Ist $A_\bullet$ ein System topologischer Gruppen, \dh{} ein Funktor $\N^\op \to \TopGrp$, so kann man genauso den Limes ${\varprojlim}_{n} A_n$ in $\TopGrp$ genauso konstruieren.
  Die Topologie ist dabei die Teilraumtopologie von $\prod_{n \in \N} A_n$.
\end{bem}

\begin{bem}
  Der inverse Limes ${\varprojlim}_n$ ist ein Funktor
  \[
    [\N^\op, \Grp] \to \Grp
    \quad \text{bzw.} \quad
    [\N^\op, \TopGrp] \to \TopGrp.
  \]
\end{bem}

\begin{acht}
  Wir fassen ein inverses System $A_\bullet$ von Gruppen als System von topol. Gruppen auf, indem wir jedem $A_n$ die diskrete Topol. geben.
  I.\,A. trägt dann $\varprojlim_{n} A_n$ nicht die diskrete Topologie!
\end{acht}

% 38.4. Topologische Gruppen mit neutralen Umgebungsbasen aus Normalteilern

\begin{prop}
  Sei $G$ eine topol. Gruppe.
  Sei $G_0 \supset G_1 \supset \ldots$ eine Umgebungsbasis von~$e$ von Normalteilern.
  Dann sind die $G_n$ sowohl offen als auch abgeschlossen in~$G$.
\end{prop}

\begin{bem}
  Sei $G$ eine Gruppe und $G \supset G_0 \supset G_1 \supset \ldots$ eine Folge von Normalteilern.
  Dann gibt es genau eine Topol. auf~$G$, sodass $G$ eine topol. Gruppe wird und die $G_i$'s eine Umgebungsbasis von $e$ bilden.
\end{bem}

% 39. Vervollständigungen II

% 39.1. Exaktheitseigenschaften inverser Limiten

\begin{defn}
  Ein inverses System $A_\bullet : \ldots \to A_1 \to A_0$ von Gruppen heißt \emph{surjektives System}, falls die Gruppenhomomor. $A_n \to A_{n-1}$ alle surjektiv sind.
\end{defn}

\begin{defn}
  Eine Sequenz $\ldots \to A_\bullet^{i-1} \xra{\phi_\bullet^{i-1}} A_\bullet^i \xra{\phi_\bullet^i} A_\bullet^{i+1} \to \ldots$ inverser Systeme abelscher Gruppen $A_\bullet^i$ heißt exakt bei $A_\bullet^i$, falls
  \[
    \ldots \to A_n^{i-1} \xra{\phi_n^{i-1}} A_n^i \xra{\phi_n^i} A_n^{i+1} \to \ldots
  \]
  für alle $n \in \N$ bei $A_n^i$ exakt ist.
\end{defn}

\begin{prop}
  Sei $0 \to A_\bullet \to B_\bullet \to C_\bullet \to 0$ eine exakte Sequenz inverser Systeme abelscher Gruppen.
  \begin{itemize}
    \item Der Inverse-Limes-Funktor ist linksexakt, \dh{} dann ist auch
    \[
      0 \to \varprojlim_n A_n \to \varprojlim_n B_n \to \varprojlim_n C_n \phantom{\to 0}\,\, \qquad
      \text{exakt.}
    \]
    \item Ist $A_\bullet : \ldots \xra{\alpha_2} A_1 \xra{\alpha_1} A_0$ dabei ein surjektives System, so ist
    \[
      0 \to \varprojlim_n A_n \to \varprojlim_n B_n \to \varprojlim_n C_n \to 0 \qquad
      \text{exakt.}
    \]
  \end{itemize}
\end{prop}

\begin{bem}
  Genauer ist die Sequenz
  \[
    0 \to \varprojlim_n A_n \to \varprojlim_n B_n \to \varprojlim_n C_n \to {\varprojlim_n}^1 A_n
  \]
  exakt, wobei ${\varprojlim_n}^1 A_n \coloneqq \coker d^A$ mit $A \coloneqq \prod_n A_n$ und
  \[
    d_A : A \to A, \quad
    (a_n)_{n \in \N} \mapsto (a_n - \alpha_{n+1}(a_{n+1}))_{n \in \N}.
  \]
  Der Beweis benutzt das Schlangenlemma und $\ker d_A = {\varprojlim}_n A_n$.
\end{bem}

\begin{bem}
  Die Linksexaktheit von ${\varprojlim}_n$ folgt daher, dass der Inverse- Limes-Funktor rechtsadjungiert zu $\Delta : \Grp \to [\N^\op, \Grp]$ ist.
\end{bem}

\subsection{Vollständige topologische Gruppen}

% Nach hinten verschoben
\begin{konstr}
  Sei $G$ eine topologische Gruppe mit einer Umgebungsbasis $G_0 \supset G_1 \supset G_2 \supset \ldots$ von~$e$ aus Normalteilern.
  \begin{itemize}
    \item Setze $A_n \coloneqq G/G_n$.
    Dann ist $A_\bullet$ mit den kanon. Abbildungen $A_n = G / G_n \thra G / G_{n-1} = A_{n-1}$ ein inv. System topol. Gruppen.
    \item Für jede Cauchyfolge $(\xi_n)_{n \in \N}$ in~$G$ und~$k \in \N$ gibt es ein $N_k \in \N$, sodass $\xi_N = \xi_{N+1} = \xi_{N+2} = \ldots (\bmod{G_k})$.
    \item Die Abbildung
    \[
      \hat{G} \to {\varprojlim}_{n} A_n, \quad
      [(\xi_n)_{n \in \N}] \mapsto (\xi_{N_k} \in A_k)_{k \in \N}
    \]
    ist dann ein wohldefinierter Homomorphismus topol. Gruppen.
  \end{itemize}
\end{konstr}

% Nach hinten verschoben
\begin{prop}
  $\hat{G} \to \varprojlim_{n} A_n$ ist ein Isomorphismus topol. Gruppen
\end{prop}

% 39.2. Vollständige topologische Gruppen

\begin{satz}
  Sei $0 \to G' \xra{\iota} G \xra{\pi} G'' \to 0$ eine exakte Sequenz abelscher Gruppen und eine Topologie auf $G$ definiert durch eine Folge $G_0 \supset G_1 \supset \ldots$ von Untergruppen.
  Seien die Topologie auf $G'$ und $G''$ durch $\iota^{-1} G_0 \supset \iota^{-1} G_1 \supset \ldots$ bzw. $\pi(G_0) \supset \pi(G_1) \supset \ldots$ erzeugt.
  Dann ist die induzierte Sequenz $0 \to \hat{G}' \to \hat{G} \to \hat{G}'' \to 0$ exakt.
\end{satz}

\begin{kor}
  Sei $G$ eine abelsche topologische Gruppe und $G_0 \supset G_1 \supset \ldots$ eine Umgebungsbasis von~$0$ aus Untergruppen.
  Für jedes~$n$ induziert dann $\phi : G \to \hat{G}$ einen Isomorphismus $G/\hat{G}_n \to \hat{G} / \hat{G}_n$.
\end{kor}

\begin{defn}
  Eine topologische Gruppe $G$ heißt \emph{vollständig}, falls $\phi : G \to \hat{G}$ ein Isomorphismus ist.
\end{defn}

\begin{prop}
  Sei $G$ eine abelsche topol. Gruppe und $G_0 \supset G_1 \supset \ldots$ eine Umgebungsbasis von~$0$ aus Untergruppen.
  Dann ist $\hat{G}$ vollständig.
\end{prop}

% 39.3. Topologische Ringe und Moduln
\subsection{Topologische Ringe und Moduln}

\begin{defn}
  Ein \emph{topologischer Ring} ist ein Ring $(A, +, \cdot, 0, 1)$, sodass $(A, +, 0)$ eine topologische Gruppe ist und die Multiplikation $A \times A \to A, \enspace (x, y) \mapsto xy$ stetig ist.
\end{defn}

\begin{bem}
  Sei $A$ ein topol. Ring.
  Dann ist $\hat{A}$ wieder ein Ring und $\phi : A \to \hat{A}$ ein Ringhomomorphismus.
\end{bem}

\begin{konstr}
  Sei $A$ ein Ring und $\aaa \subseteq A$ ein Ideal.
  Trage die additive Gruppe $A$ die durch die Umgebungsbasen $(1) \supset \aaa \supset \aaa^2 \supset \ldots$ von~$0$ definierte Topologie, die \emph{$\aaa$-adische Topologie}.
  Die Multiplikation ist bzgl. dieser Topologie stetig, also~$A$ ein topologischer Ring. \\
  Dieser ist genau dann hausdorffsch, wenn $\bigcap_n \aaa^n = (0)$.
\end{konstr}

\begin{defn}
  Die Vervollständigung $\hat{A}_\aaa$ von $A$ bzgl. der $\aaa$-adischen Topologie heißt \emph{$\aaa$-adische Vervollständigung} von~$A$.
\end{defn}

\begin{defn}
  Sei $A$ ein topol. Ring.
  Ein \emph{topol. $A$-Modul} ist ein $A$-Modul~$M$, dessen additive Gruppe eine topologische Gruppe ist, sodass die Multiplikation $A \times M \to M, \enspace (a, x) \mapsto ax$ stetig ist.
\end{defn}

\begin{bem}
  Die Vervollständigung $\hat{M}$ eines $A$-Moduls~$M$ ist in kanon. Art ein $\hat{A}$-Modul.
  Außerdem ist $M \to \hat{M}$ eine stetiger Homomorphismus $M \to \hat{M}^A$ von $A$-Moduln.
\end{bem}

\begin{konstr}
  Sei $A$ ein Ring und $\aaa \subseteq A$ ein Ideal und $M$ ein $A$-Modul.
  Trage $M$ die durch die Folge $M \supset \aaa M \supset \aaa^2 M \supset \ldots$ von Untermo- duln def. Topologie, die \textit{$\aaa$-adische Topologie}.
  Damit wird~$M$ zu einem topologischen $A$-Modul, wenn~$A$ auch die $\aaa$-adische Topologie trägt.
\end{konstr}

\begin{defn}
  Die Vervollständigung $\hat{M}_\aaa$ von $M$ bzgl. der $\aaa$-adischen Topologie ist ein $\hat{A}_\aaa$-Modul und heißt \emph{$\aaa$-adische Vervollständigung} von~$M$.
\end{defn}

\begin{bem}
  Jeder Homomorphismus $\phi : M \to N$ von $A$-Moduln ist stetig bzgl. der $\aaa$-adischen Topologie auf beiden Moduln und induziert damit einen Homomorphismus $\hat{\phi}_\aaa : \hat{M}_\aaa \to \hat{N}_\aaa$ von $\hat{A}_\aaa$-Moduln. \\
  Damit ist $\aaa$-adische Vervollständigung ein Funktor
  \[
    \widehat{(\blank)}_\aaa : \LMod{A} \to \TopLMod{\hat{A}_\aaa}.
  \]
\end{bem}

\begin{bspe}
  \begin{itemize}
    \item Sei $K$ ein Körper.
    Dann ist $\widehat{K[x]}_{(x)} = K \llbracket x \rrbracket$.
    \item Sei $p$ eine Primzahl.
    Dann heißt $\Z_p \coloneqq \hat{\Z}_{(p)}$ \emph{Ring der $p$-adischen Ganzzahlen}.
    Elemente aus $\Z_p$ kann man als Reihen ${\sum}_{n=0}^\infty a_n p^n$ mit $0 \leq a_n < p$ schreiben.
    Es gilt dabei $\lim_{n \to \infty} p^n = 0$.
  \end{itemize}
\end{bspe}

% 40. Filtrationen

% 40.1. Filtrationen

% 41. Gewichtete Ringe und Moduln I

% 41.1. Definition gewichteter Ringe und Moduln

% 41.2. Reesche Ringe und Moduln

% 41.3. Das Artin-Reesche Lemma

% 42. Gewichtete Ringe und Moduln II

% 42.1. Exaktheit der Vervollständigung

% 42.2. Vervollständigung von Ringen

% 42.3. Der Krullsche Satz

% 43. Der assoziierte gewichtete Ring

% 43.1. Definition und grundlegende Eigenschaften des assoziierten gewichteten Ringes

% 43.2. Endlichkeitseigenschaften der Vervollständigung

\end{document}
